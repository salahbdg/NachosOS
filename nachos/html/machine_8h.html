<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: machine/machine.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0909f4a7c39d3e9616c1c9d755842fcb.html">machine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">machine.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;strings.h&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="disk_8h_source.html">machine/disk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="instruction_8h_source.html">machine/instruction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="copyright_8h_source.html">kernel/copyright.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stats_8h_source.html">utility/stats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translationtable_8h_source.html">machine/translationtable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mmu_8h_source.html">machine/mmu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ACIA_8h_source.html">machine/ACIA.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="interrupt_8h_source.html">machine/interrupt.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for machine.h:</div>
<div class="dyncontent">
<div class="center"><img src="machine_8h__incl.png" border="0" usemap="#amachine_2machine_8h" alt=""/></div>
<map name="amachine_2machine_8h" id="amachine_2machine_8h">
<area shape="rect" title="Data structures to simulate the RISC V machine." alt="" coords="512,5,663,31"/>
<area shape="rect" title=" " alt="" coords="5,79,76,104"/>
<area shape="poly" title=" " alt="" coords="512,29,322,50,96,81,91,82,90,77,95,76,322,45,511,24"/>
<area shape="rect" title=" " alt="" coords="85,152,143,177"/>
<area shape="poly" title=" " alt="" coords="512,22,414,26,304,35,205,53,167,65,141,81,131,93,124,108,117,139,112,138,119,106,126,90,138,77,165,60,204,48,303,30,413,21,512,17"/>
<area shape="rect" title=" " alt="" coords="168,152,247,177"/>
<area shape="poly" title=" " alt="" coords="537,33,461,53,378,81,244,148,241,143,376,76,460,48,536,28"/>
<area shape="rect" title=" " alt="" coords="271,152,346,177"/>
<area shape="poly" title=" " alt="" coords="576,33,530,68,470,106,414,132,360,151,358,146,412,127,467,102,527,64,572,29"/>
<area shape="rect" title=" " alt="" coords="389,79,457,104"/>
<area shape="poly" title=" " alt="" coords="562,33,464,76,461,71,560,28"/>
<area shape="rect" href="disk_8h.html" title="Data structures to emulate a physical disk." alt="" coords="843,519,964,544"/>
<area shape="poly" title=" " alt="" coords="663,25,727,40,790,65,817,83,839,105,853,132,858,163,858,386,861,419,870,452,893,506,888,508,865,453,856,420,853,386,853,164,848,134,834,108,814,87,787,70,725,45,662,30"/>
<area shape="rect" href="copyright_8h.html" title="Nachos copyright notice." alt="" coords="659,739,798,764"/>
<area shape="poly" title=" " alt="" coords="663,19,814,25,992,36,1148,53,1203,64,1234,76,1252,95,1259,115,1261,163,1261,606,1257,623,1247,639,1231,654,1210,667,1157,689,1091,708,1019,722,945,733,812,747,812,742,944,728,1018,717,1090,702,1155,684,1208,662,1228,650,1243,636,1252,621,1255,606,1255,163,1254,116,1247,98,1231,81,1202,69,1148,58,992,42,814,31,663,24"/>
<area shape="rect" href="instruction_8h.html" title="composition of instructioninterface of instruction class" alt="" coords="151,79,314,104"/>
<area shape="poly" title=" " alt="" coords="531,33,304,79,303,73,530,28"/>
<area shape="rect" href="stats_8h.html" title="Data structures for gathering statistics about Nachos performance." alt="" coords="533,79,641,104"/>
<area shape="poly" title=" " alt="" coords="590,31,590,65,585,65,585,31"/>
<area shape="rect" href="translationtable_8h.html" title="Data structures for managing address translation" alt="" coords="621,299,818,324"/>
<area shape="poly" title=" " alt="" coords="607,29,632,50,655,77,682,132,701,190,713,243,719,285,714,285,708,244,696,191,677,134,650,80,628,53,603,33"/>
<area shape="rect" href="mmu_8h.html" title="Data structures for the MMU (Memory Management Unit)" alt="" coords="943,79,1071,104"/>
<area shape="poly" title=" " alt="" coords="655,28,930,74,929,80,654,33"/>
<area shape="rect" href="ACIA_8h.html" title="Data Structures to emulate an ACIA device." alt="" coords="1095,79,1221,104"/>
<area shape="poly" title=" " alt="" coords="663,25,1082,76,1081,81,663,30"/>
<area shape="rect" href="interrupt_8h.html" title="Data structures to emulate low&#45;level interrupt hardware." alt="" coords="893,445,1044,471"/>
<area shape="poly" title=" " alt="" coords="663,24,785,43,839,58,876,77,894,96,904,115,908,137,909,163,909,312,913,347,924,379,954,433,950,435,920,382,908,348,903,313,903,163,903,137,899,117,890,99,872,81,837,63,784,49,663,29"/>
<area shape="poly" title=" " alt="" coords="902,545,877,612,854,654,825,692,798,716,768,734,766,730,795,712,821,689,850,651,872,610,897,543"/>
<area shape="rect" href="utility_8h.html" title="Miscellaneous useful definitions, including debugging routines." alt="" coords="503,592,615,617"/>
<area shape="poly" title=" " alt="" coords="849,547,629,592,628,587,848,541"/>
<area shape="poly" title=" " alt="" coords="575,616,706,727,703,732,571,620"/>
<area shape="rect" title=" " alt="" coords="188,739,259,764"/>
<area shape="poly" title=" " alt="" coords="503,612,435,619,360,630,294,646,268,656,250,667,240,680,234,694,227,725,222,724,228,693,236,677,247,663,266,651,292,641,359,625,435,614,503,607"/>
<area shape="rect" title=" " alt="" coords="528,665,615,691"/>
<area shape="poly" title=" " alt="" coords="564,617,570,651,564,652,559,618"/>
<area shape="rect" href="sysdep_8h.html" title="System&#45;dependent interface." alt="" coords="261,665,401,691"/>
<area shape="poly" title=" " alt="" coords="523,620,382,664,381,659,522,615"/>
<area shape="poly" title=" " alt="" coords="396,688,651,734,650,739,395,693"/>
<area shape="poly" title=" " alt="" coords="315,693,254,733,251,729,313,688"/>
<area shape="rect" title=" " alt="" coords="89,739,155,764"/>
<area shape="poly" title=" " alt="" coords="299,693,170,737,168,732,297,688"/>
<area shape="rect" title=" " alt="" coords="296,739,367,764"/>
<area shape="poly" title=" " alt="" coords="334,691,334,725,329,725,329,691"/>
<area shape="poly" title=" " alt="" coords="215,106,147,147,144,142,212,102"/>
<area shape="poly" title=" " alt="" coords="231,105,218,140,213,138,226,103"/>
<area shape="poly" title=" " alt="" coords="247,102,288,141,284,144,243,106"/>
<area shape="poly" title=" " alt="" coords="540,107,480,126,416,154,348,187,290,213,267,229,249,249,238,275,234,310,234,386,238,437,252,475,278,508,317,542,357,566,402,583,448,593,490,599,489,604,447,598,401,588,355,571,314,546,274,512,247,478,233,438,229,386,229,310,233,274,245,246,263,225,287,208,346,182,414,150,478,121,538,101"/>
<area shape="rect" href="list_8h.html" title="Data structures to manage LISP&#45;like lists." alt="" coords="621,519,717,544"/>
<area shape="poly" title=" " alt="" coords="590,104,595,196,601,259,611,323,637,425,663,505,657,507,632,427,606,325,596,260,590,196,585,104"/>
<area shape="rect" href="config_8h.html" title="Data structures for setting up the Nachos hardware and." alt="" coords="427,152,542,177"/>
<area shape="poly" title=" " alt="" coords="572,106,514,146,511,142,569,102"/>
<area shape="poly" title=" " alt="" coords="674,544,724,724,719,726,669,545"/>
<area shape="poly" title=" " alt="" coords="653,546,590,587,587,582,650,542"/>
<area shape="poly" title=" " alt="" coords="446,180,403,199,362,227,310,288,264,357,226,429,195,502,151,634,129,726,124,725,146,633,190,500,222,427,260,354,305,285,359,223,400,194,444,175"/>
<area shape="poly" title=" " alt="" coords="505,175,690,289,688,294,502,180"/>
<area shape="rect" href="filesys_8h.html" title="Data structures to represent the Nachos file system." alt="" coords="373,225,495,251"/>
<area shape="poly" title=" " alt="" coords="478,179,452,216,448,213,474,176"/>
<area shape="poly" title=" " alt="" coords="734,323,756,345,780,377,799,415,807,456,807,606,802,642,788,676,769,706,751,730,747,727,765,703,783,674,797,641,802,606,802,457,794,416,775,379,752,349,730,326"/>
<area shape="poly" title=" " alt="" coords="715,325,575,581,570,579,711,323"/>
<area shape="poly" title=" " alt="" coords="422,253,372,300,342,333,313,372,290,413,275,457,272,500,276,522,284,543,304,576,324,601,345,620,368,635,422,660,490,688,569,717,646,735,645,740,567,722,488,693,419,664,365,640,341,624,320,604,299,579,280,545,271,523,266,501,269,456,285,411,309,369,338,330,368,296,418,249"/>
<area shape="rect" href="openfile_8h.html" title="Data structures to manipulate files." alt="" coords="392,299,524,324"/>
<area shape="poly" title=" " alt="" coords="440,250,452,285,447,286,435,252"/>
<area shape="poly" title=" " alt="" coords="524,314,597,325,636,335,673,349,706,368,732,391,750,421,757,456,757,606,750,672,738,726,733,725,745,671,751,606,751,457,745,423,728,395,703,372,671,354,634,340,596,330,524,319"/>
<area shape="poly" title=" " alt="" coords="472,322,491,344,508,371,530,427,545,484,560,578,555,579,540,485,525,428,504,373,487,347,468,326"/>
<area shape="rect" href="system_8h.html" title="Global variables used in Nachos." alt="" coords="368,372,495,397"/>
<area shape="poly" title=" " alt="" coords="456,325,443,360,438,358,451,323"/>
<area shape="poly" title=" " alt="" coords="411,400,379,420,348,447,303,501,273,548,252,599,231,666,226,696,225,725,219,724,221,695,226,665,247,597,269,545,299,498,344,443,376,416,408,395"/>
<area shape="poly" title=" " alt="" coords="403,400,363,419,322,447,288,481,256,519,202,598,161,672,134,727,130,725,156,669,197,595,252,515,284,478,319,443,360,415,401,395"/>
<area shape="poly" title=" " alt="" coords="452,395,639,509,637,514,449,400"/>
<area shape="rect" title=" " alt="" coords="327,519,378,544"/>
<area shape="poly" title=" " alt="" coords="410,400,383,419,360,447,352,476,352,505,346,505,347,475,356,444,379,415,407,395"/>
<area shape="rect" href="objaddr_8h.html" title="Object address data structure." alt="" coords="371,445,495,471"/>
<area shape="poly" title=" " alt="" coords="427,398,426,432,421,432,422,398"/>
<area shape="poly" title=" " alt="" coords="436,471,440,512,453,571,477,634,495,663,517,689,546,710,578,725,613,736,646,742,645,748,611,741,576,730,543,714,514,693,491,667,472,637,448,572,435,513,431,471"/>
<area shape="poly" title=" " alt="" coords="445,469,542,580,538,583,441,473"/>
<area shape="poly" title=" " alt="" coords="471,468,618,512,617,517,470,473"/>
<area shape="poly" title=" " alt="" coords="437,445,438,411,443,411,442,445"/>
<area shape="poly" title=" " alt="" coords="422,473,378,512,374,508,418,469"/>
<area shape="poly" title=" " alt="" coords="975,470,983,504,983,525,979,545,957,595,931,630,898,659,854,693,815,717,776,736,773,731,813,713,851,688,895,655,927,626,952,592,974,543,978,524,978,505,970,471"/>
<area shape="poly" title=" " alt="" coords="921,473,730,518,729,513,920,468"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="machine_8h__dep__incl.png" border="0" usemap="#amachine_2machine_8hdep" alt=""/></div>
<map name="amachine_2machine_8hdep" id="amachine_2machine_8hdep">
<area shape="rect" title="Data structures to simulate the RISC V machine." alt="" coords="2598,5,2748,31"/>
<area shape="rect" href="addrspace_8cc.html" title="Routines to manage address spaces (executing user programs)." alt="" coords="2042,299,2192,324"/>
<area shape="poly" title=" " alt="" coords="2667,45,2654,76,2634,113,2607,150,2573,180,2530,202,2490,213,2452,216,2416,214,2341,210,2298,215,2251,228,2216,244,2183,264,2132,301,2129,296,2180,259,2213,239,2249,223,2297,209,2340,205,2416,209,2452,211,2489,208,2528,197,2570,175,2603,146,2629,111,2649,74,2662,43"/>
<area shape="rect" href="exception_8cc.html" title="Entry point into the Nachos kernel ." alt="" coords="1930,372,2078,397"/>
<area shape="poly" title=" " alt="" coords="2762,18,2934,24,3135,34,3310,51,3372,62,3406,76,3424,95,3432,115,3433,163,3433,240,3430,253,3420,266,3385,287,3331,306,3261,323,3080,348,2864,366,2635,377,2413,383,2078,386,2078,381,2413,378,2634,372,2864,361,3079,343,3260,317,3330,301,3383,283,3417,262,3425,251,3428,239,3428,163,3426,116,3420,98,3403,81,3370,68,3309,56,3134,39,2934,29,2762,24"/>
<area shape="rect" href="thread_8h.html" title="Data structures for managing threads." alt="" coords="1864,79,1984,104"/>
<area shape="poly" title=" " alt="" coords="2584,30,1984,87,1984,82,2584,25"/>
<area shape="rect" href="machine_8cc.html" title="Routines to simulate the execution of user programs. DO NOT CHANGE – part of the machine emulation." alt="" coords="463,372,619,397"/>
<area shape="poly" title=" " alt="" coords="2584,22,1986,26,1565,33,1121,45,700,63,344,88,205,104,99,122,31,142,14,153,9,164,9,239,11,286,18,304,35,322,69,340,116,352,172,360,234,363,356,365,450,369,463,371,462,376,450,375,356,371,234,369,172,365,115,358,67,345,31,326,14,307,6,288,4,239,4,163,10,150,29,138,97,117,204,98,344,83,700,57,1121,39,1565,28,1986,21,2584,17"/>
<area shape="rect" href="console_8cc.html" title="Routines to simulate a serial port to a console device." alt="" coords="44,299,195,324"/>
<area shape="poly" title=" " alt="" coords="2584,23,2236,33,1987,45,1704,63,1396,89,1074,124,750,170,433,228,279,266,157,301,156,296,278,261,432,223,749,165,1074,119,1395,84,1703,58,1987,39,2236,28,2584,18"/>
<area shape="rect" href="physMem_8h.html" title=" " alt="" coords="2262,225,2385,251"/>
<area shape="poly" title=" " alt="" coords="2674,45,2669,76,2659,112,2643,149,2617,179,2600,190,2577,200,2516,215,2385,234,2385,229,2515,210,2575,194,2598,185,2614,175,2638,146,2654,111,2664,75,2669,44"/>
<area shape="rect" href="mmu_8cc.html" title="Routines to translate virtual addresses to physical addresses." alt="" coords="2631,299,2766,324"/>
<area shape="poly" title=" " alt="" coords="2679,44,2682,78,2700,298,2695,299,2677,79,2673,44"/>
<area shape="rect" href="disk_8cc.html" title="Routines to simulate a physical disk device;." alt="" coords="2252,152,2379,177"/>
<area shape="poly" title=" " alt="" coords="2633,38,2345,154,2343,149,2631,34"/>
<area shape="rect" href="interrupt_8cc.html" title="Routines to simulate hardware interrupts." alt="" coords="2403,152,2559,177"/>
<area shape="poly" title=" " alt="" coords="2643,40,2580,81,2532,120,2495,154,2491,150,2528,116,2577,77,2640,35"/>
<area shape="rect" href="ACIA_8cc.html" title="Routines implementing an ACIA device." alt="" coords="2786,79,2917,104"/>
<area shape="poly" title=" " alt="" coords="2715,33,2823,76,2821,81,2713,38"/>
<area shape="rect" href="sysdep_8cc.html" title="Implementation of system&#45;dependent interface." alt="" coords="2941,79,3088,104"/>
<area shape="poly" title=" " alt="" coords="2741,31,2960,76,2958,81,2740,36"/>
<area shape="rect" href="timer_8cc.html" title="Routines to emulate a hardware timer device." alt="" coords="3112,79,3247,104"/>
<area shape="poly" title=" " alt="" coords="2762,29,3100,76,3112,78,3112,83,3099,81,2762,34"/>
<area shape="rect" href="config_8cc.html" title=" " alt="" coords="3271,79,3392,104"/>
<area shape="poly" title=" " alt="" coords="2762,24,2988,45,3260,76,3271,78,3270,83,3259,81,2988,51,2762,29"/>
<area shape="rect" href="pagefaultmanager_8h.html" title="Data structures for the page fault manager." alt="" coords="2736,225,2914,251"/>
<area shape="poly" title=" " alt="" coords="2692,40,2719,77,2819,224,2815,227,2715,80,2688,43"/>
<area shape="rect" href="fsmisc_8cc.html" title="Miscellaneous routines for the Nachos file system." alt="" coords="1634,152,1763,177"/>
<area shape="poly" title=" " alt="" coords="1875,111,1736,154,1734,149,1874,106"/>
<area shape="rect" href="main_8cc.html" title="Bootstrap code to initialize the operating system kernel." alt="" coords="1788,152,1905,177"/>
<area shape="poly" title=" " alt="" coords="1903,115,1861,154,1857,150,1899,111"/>
<area shape="rect" href="scheduler_8cc.html" title="Routines to choose the next thread to run, and to dispatch to that thread." alt="" coords="1929,152,2076,177"/>
<area shape="poly" title=" " alt="" coords="1948,111,1991,150,1988,154,1945,115"/>
<area shape="rect" href="synch_8h.html" title="Data structures for synchronizing threads." alt="" coords="1163,152,1279,177"/>
<area shape="poly" title=" " alt="" coords="1850,101,1606,123,1300,155,1280,157,1279,152,1299,149,1605,117,1850,96"/>
<area shape="rect" href="system_8cc.html" title="Nachos initialization and cleanup routines." alt="" coords="1774,372,1906,397"/>
<area shape="poly" title=" " alt="" coords="1850,98,1724,105,1581,116,1459,133,1418,143,1396,154,1391,165,1396,176,1409,186,1427,194,1473,204,1530,207,1592,206,1714,204,1766,210,1804,223,1824,238,1837,254,1853,298,1856,318,1855,339,1847,372,1841,371,1849,338,1851,319,1848,299,1832,257,1820,242,1801,228,1764,215,1714,210,1592,212,1530,212,1472,210,1425,200,1407,191,1392,179,1386,165,1392,150,1416,138,1458,127,1581,111,1724,100,1849,93"/>
<area shape="rect" href="swapManager_8cc.html" title="Routines of the swap manager." alt="" coords="1286,299,1441,324"/>
<area shape="poly" title=" " alt="" coords="1850,98,1714,104,1557,114,1422,131,1376,142,1352,154,1342,170,1336,189,1337,230,1348,268,1360,297,1355,299,1343,270,1332,230,1331,188,1337,168,1348,150,1374,137,1421,126,1557,109,1714,98,1850,92"/>
<area shape="rect" href="thread_8cc.html" title="Routines to manage threads." alt="" coords="2020,225,2147,251"/>
<area shape="poly" title=" " alt="" coords="1998,98,2048,116,2071,131,2090,151,2098,170,2099,190,2091,226,2086,224,2093,190,2092,171,2085,153,2068,135,2046,120,1996,103"/>
<area shape="poly" title=" " alt="" coords="1976,105,2111,149,2297,223,2295,228,2109,155,1974,111"/>
<area shape="rect" href="pagefaultmanager_8cc.html" title=" " alt="" coords="2422,299,2606,324"/>
<area shape="poly" title=" " alt="" coords="1987,105,2162,149,2242,175,2321,195,2356,205,2398,223,2459,261,2503,296,2500,301,2455,265,2396,228,2354,210,2320,200,2240,180,2160,155,1985,110"/>
<area shape="poly" title=" " alt="" coords="1998,103,2253,149,2252,155,1997,109"/>
<area shape="poly" title=" " alt="" coords="1998,99,2392,149,2403,151,2402,156,2391,155,1997,105"/>
<area shape="rect" href="translationtable_8cc.html" title=" " alt="" coords="1406,152,1609,177"/>
<area shape="poly" title=" " alt="" coords="1850,108,1575,155,1574,149,1850,103"/>
<area shape="poly" title=" " alt="" coords="1293,169,1620,196,1779,211,1871,223,1934,239,1996,259,2091,296,2090,301,1994,264,1933,244,1870,228,1778,216,1619,201,1292,174"/>
<area shape="poly" title=" " alt="" coords="1293,168,1585,193,1724,208,1803,223,1866,256,1921,298,1966,339,1996,370,1992,374,1962,343,1918,302,1863,261,1801,228,1723,213,1584,198,1292,174"/>
<area shape="rect" href="drvACIA_8cc.html" title=" " alt="" coords="1465,299,1606,324"/>
<area shape="poly" title=" " alt="" coords="1188,187,1168,201,1152,217,1144,233,1145,241,1149,248,1465,297,1464,302,1146,253,1140,243,1139,233,1147,214,1164,197,1185,182"/>
<area shape="rect" href="drvACIA_8h.html" title="Data structures for the ACIA device driver interrupt_send and interrupt_receive are used in the intrr..." alt="" coords="1655,225,1790,251"/>
<area shape="poly" title=" " alt="" coords="1294,174,1655,224,1654,230,1293,179"/>
<area shape="rect" href="drvConsole_8h.html" title="Data structures to export a synchronous interface to the console device." alt="" coords="579,299,735,324"/>
<area shape="poly" title=" " alt="" coords="1150,182,940,228,802,267,692,301,691,296,801,262,939,223,1149,177"/>
<area shape="rect" href="drvDisk_8h.html" title="Data structures to export a synchronous interface to the raw disk device." alt="" coords="952,225,1085,251"/>
<area shape="poly" title=" " alt="" coords="1177,184,1052,228,1050,223,1175,179"/>
<area shape="rect" href="oftable_8h.html" title="Data structure used to synchronize operations on files." alt="" coords="378,299,504,324"/>
<area shape="poly" title=" " alt="" coords="1149,178,1009,198,848,228,754,253,621,281,504,302,503,297,620,276,752,248,847,223,1008,193,1148,173"/>
<area shape="rect" href="process_8h.html" title="A process keeps track of the resources used by a running Nachos program." alt="" coords="445,225,573,251"/>
<area shape="poly" title=" " alt="" coords="1149,174,900,195,585,228,574,229,573,224,585,223,899,190,1149,169"/>
<area shape="rect" href="synch_8cc.html" title="Routines for synchronizing threads." alt="" coords="1160,225,1282,251"/>
<area shape="poly" title=" " alt="" coords="1224,191,1224,225,1218,225,1218,191"/>
<area shape="poly" title=" " alt="" coords="1293,169,2020,229,2020,234,1292,175"/>
<area shape="rect" href="console_8h.html" title="Data structures to simulate the behavior of a terminal." alt="" coords="597,225,741,251"/>
<area shape="poly" title=" " alt="" coords="1150,178,742,230,741,225,1149,173"/>
<area shape="poly" title=" " alt="" coords="1293,168,1394,175,2160,223,2262,230,2262,235,2159,228,1394,180,1292,173"/>
<area shape="poly" title=" " alt="" coords="1762,254,1851,296,1985,370,1983,374,1849,301,1760,259"/>
<area shape="poly" title=" " alt="" coords="1681,258,1567,301,1565,296,1679,253"/>
<area shape="poly" title=" " alt="" coords="1772,254,1803,271,1828,297,1838,316,1842,337,1843,372,1838,372,1837,337,1833,318,1824,300,1799,276,1769,258"/>
<area shape="rect" href="ACIA__sysdep_8cc.html" title="Routines to simulate the system dependant part of an ACIA device." alt="" coords="1630,299,1814,324"/>
<area shape="poly" title=" " alt="" coords="1725,264,1725,299,1720,299,1720,264"/>
<area shape="poly" title=" " alt="" coords="749,321,927,334,1079,340,1336,344,1592,349,1742,356,1918,369,1929,370,1929,376,1918,375,1742,362,1592,354,1336,350,1078,346,927,339,748,327"/>
<area shape="poly" title=" " alt="" coords="749,321,1053,344,1347,361,1773,379,1773,384,1346,366,1052,350,748,327"/>
<area shape="rect" href="drvConsole_8cc.html" title="Routines to synchronously access the console." alt="" coords="644,372,806,397"/>
<area shape="poly" title=" " alt="" coords="679,332,716,370,712,374,676,336"/>
<area shape="rect" href="msgerror_8cc.html" title="Data structure to store the last syscall error message." alt="" coords="831,372,974,397"/>
<area shape="poly" title=" " alt="" coords="710,325,863,369,862,374,709,330"/>
<area shape="poly" title=" " alt="" coords="628,333,561,374,559,369,625,329"/>
<area shape="poly" title=" " alt="" coords="1038,260,1070,293,1090,309,1113,322,1168,339,1243,352,1428,370,1621,378,1774,381,1773,386,1621,384,1428,375,1242,357,1167,344,1111,326,1087,314,1067,297,1034,264"/>
<area shape="poly" title=" " alt="" coords="938,248,718,269,621,284,587,293,569,301,557,317,549,336,544,372,538,372,544,335,552,314,566,297,586,288,620,279,717,264,938,243"/>
<area shape="rect" href="drvDisk_8cc.html" title="Routines to synchronously access the disk." alt="" coords="1124,299,1262,324"/>
<area shape="poly" title=" " alt="" coords="1060,253,1165,296,1163,301,1058,258"/>
<area shape="rect" href="filehdr_8cc.html" title="Routines for managing the disk file header." alt="" coords="759,299,886,324"/>
<area shape="poly" title=" " alt="" coords="975,258,855,301,853,296,973,253"/>
<area shape="rect" href="openfile_8cc.html" title="Routines to manage an open Nachos file" alt="" coords="910,299,1049,324"/>
<area shape="poly" title=" " alt="" coords="1008,264,988,300,984,297,1003,262"/>
<area shape="poly" title=" " alt="" coords="1088,251,1308,296,1307,301,1087,256"/>
<area shape="poly" title=" " alt="" coords="518,318,568,321,773,332,947,338,1243,341,1539,346,1713,354,1918,369,1929,370,1929,376,1918,375,1713,360,1539,351,1243,346,947,343,773,337,567,327,517,323"/>
<area shape="poly" title=" " alt="" coords="518,317,568,321,924,343,1273,359,1773,379,1773,384,1272,365,924,348,567,327,517,323"/>
<area shape="rect" href="filesys_8cc.html" title="Routines to manage the overall operation of the file system." alt="" coords="310,372,438,397"/>
<area shape="poly" title=" " alt="" coords="422,336,387,374,383,370,419,333"/>
<area shape="rect" href="oftable_8cc.html" title="Routines for managing the open file table." alt="" coords="156,372,286,397"/>
<area shape="poly" title=" " alt="" coords="393,331,257,374,256,369,392,326"/>
<area shape="poly" title=" " alt="" coords="586,222,870,182,1151,149,1558,114,1863,94,1864,99,1558,120,1152,155,871,188,587,228"/>
<area shape="rect" href="process_8cc.html" title=" " alt="" coords="219,299,354,324"/>
<area shape="poly" title=" " alt="" coords="461,257,323,301,322,296,460,252"/>
<area shape="poly" title=" " alt="" coords="667,265,662,299,656,298,662,264"/>
<area shape="poly" title=" " alt="" coords="583,254,208,301,195,303,195,298,207,296,583,248"/>
<area shape="poly" title=" " alt="" coords="2278,258,2151,301,2150,296,2277,253"/>
<area shape="poly" title=" " alt="" coords="2303,262,2260,296,2206,327,2089,348,1906,376,1906,371,2088,342,2204,321,2257,292,2300,258"/>
<area shape="poly" title=" " alt="" coords="2397,251,2638,296,2637,301,2396,256"/>
<area shape="poly" title=" " alt="" coords="2368,253,2484,296,2482,301,2366,258"/>
<area shape="rect" href="physMem_8cc.html" title=" " alt="" coords="2268,299,2398,324"/>
<area shape="poly" title=" " alt="" coords="2330,264,2334,298,2329,299,2324,265"/>
<area shape="poly" title=" " alt="" coords="2835,264,2837,295,2833,312,2824,326,2809,336,2784,344,2712,358,2615,369,2503,376,2268,384,2078,386,2078,381,2268,379,2503,371,2615,363,2711,353,2783,339,2806,331,2820,322,2828,310,2832,295,2829,264"/>
<area shape="poly" title=" " alt="" coords="2821,265,2806,298,2795,314,2780,326,2757,335,2722,343,2623,354,2496,362,2354,366,2081,370,1918,375,1906,376,1905,371,1918,369,2081,365,2354,361,2496,356,2623,349,2722,338,2756,330,2777,322,2791,310,2802,295,2816,263"/>
<area shape="poly" title=" " alt="" coords="2794,260,2720,301,2718,296,2791,255"/>
<area shape="poly" title=" " alt="" coords="2763,256,2565,301,2564,296,2761,251"/>
</map>
</div>
</div>
<p><a href="machine_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMachine.html">Machine</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afa99ec4acc4ecb2dc3c2d05da15d0e3f" id="r_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(<a class="el" href="classListElement.html">a</a>,  <a class="el" href="classListElement.html">b</a>)&#160;&#160;&#160;((<a class="el" href="classListElement.html">a</a>) &gt; (<a class="el" href="classListElement.html">b</a>) ? <a class="el" href="classListElement.html">a</a> : <a class="el" href="classListElement.html">b</a>)</td></tr>
<tr class="separator:afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acffbd305ee72dcd4593c0d8af64a4f" id="r_a3acffbd305ee72dcd4593c0d8af64a4f"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(<a class="el" href="classListElement.html">a</a>,  <a class="el" href="classListElement.html">b</a>)&#160;&#160;&#160;((<a class="el" href="classListElement.html">a</a>) &lt; (<a class="el" href="classListElement.html">b</a>) ? <a class="el" href="classListElement.html">a</a> : <a class="el" href="classListElement.html">b</a>)</td></tr>
<tr class="separator:a3acffbd305ee72dcd4593c0d8af64a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73dc20b8ae9ab7f19998c882a960d9af" id="r_a73dc20b8ae9ab7f19998c882a960d9af"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a73dc20b8ae9ab7f19998c882a960d9af">STACK_REG</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a73dc20b8ae9ab7f19998c882a960d9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab245012716d7f793b3e961f477f5de97" id="r_ab245012716d7f793b3e961f477f5de97"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#ab245012716d7f793b3e961f477f5de97">RETADDR_REG</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab245012716d7f793b3e961f477f5de97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b76404084d8d806c7df776d27d48dc7" id="r_a9b76404084d8d806c7df776d27d48dc7"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a9b76404084d8d806c7df776d27d48dc7">NUM_INT_REGS</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a9b76404084d8d806c7df776d27d48dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fae2fd34d21368d476a0a2c6abba2fb" id="r_a3fae2fd34d21368d476a0a2c6abba2fb"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a3fae2fd34d21368d476a0a2c6abba2fb">NUM_FP_REGS</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a3fae2fd34d21368d476a0a2c6abba2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73dc20b8ae9ab7f19998c882a960d9af" id="r_a73dc20b8ae9ab7f19998c882a960d9af"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a73dc20b8ae9ab7f19998c882a960d9af">STACK_REG</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a73dc20b8ae9ab7f19998c882a960d9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab245012716d7f793b3e961f477f5de97" id="r_ab245012716d7f793b3e961f477f5de97"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#ab245012716d7f793b3e961f477f5de97">RETADDR_REG</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab245012716d7f793b3e961f477f5de97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b76404084d8d806c7df776d27d48dc7" id="r_a9b76404084d8d806c7df776d27d48dc7"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a9b76404084d8d806c7df776d27d48dc7">NUM_INT_REGS</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a9b76404084d8d806c7df776d27d48dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fae2fd34d21368d476a0a2c6abba2fb" id="r_a3fae2fd34d21368d476a0a2c6abba2fb"><td class="memItemLeft" align="right" valign="top">#<a class="el" href="classListElement.html">define</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a3fae2fd34d21368d476a0a2c6abba2fb">NUM_FP_REGS</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a3fae2fd34d21368d476a0a2c6abba2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acc6a4e1741d2f96cf2e1ac3229da361a" id="r_acc6a4e1741d2f96cf2e1ac3229da361a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361a">ExceptionType</a> : short { <br />
&#160;&#160;<a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aa6d50e3b38d44a7fb8ff65445b74795d7">NO_EXCEPTION</a>
, <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aaca226f6f463bc1d938251c31eefa6fff">SYSCALL_EXCEPTION</a>
, <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aaafb606ef5d4b4cd02ab9004b86e9a9f6">PAGEFAULT_EXCEPTION</a>
, <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aaa00d5a541217575b93924019bdd7d316">READONLY_EXCEPTION</a>
, <br />
&#160;&#160;<a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aa2994515a78566b78b53e472898fffb97">BUSERROR_EXCEPTION</a>
, <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aa565d4f7ba7f00cd0025f82a32f43f2fc">ADDRESSERROR_EXCEPTION</a>
, <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aa36384b759e31fc1e8eeb475550f67b62">OVERFLOW_EXCEPTION</a>
, <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aa04d5cf244e022cc4607471972063e0a6">ILLEGALINSTR_EXCEPTION</a>
, <br />
&#160;&#160;<a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361aa83e7a5ff1701f68a8ca17dad10f8f8d2">NUM_EXCEPTION_TYPES</a>
<br />
 }</td></tr>
<tr class="separator:acc6a4e1741d2f96cf2e1ac3229da361a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc6b28ebc1a6f32bdfe9031c4deb568" id="r_a5cc6b28ebc1a6f32bdfe9031c4deb568"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a5cc6b28ebc1a6f32bdfe9031c4deb568">MachineStatus</a> { <a class="el" href="machine_8h.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a163f0a45d065ea9c362dc3238fa48488">IDLE_MODE</a>
, <a class="el" href="machine_8h.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a4491b929f6df22f919e4fb15efc9ba7f">SYSTEM_MODE</a>
, <a class="el" href="machine_8h.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a8f1d0f52603058645d563a80d7f589a3">USER_MODE</a>
 }</td></tr>
<tr class="separator:a5cc6b28ebc1a6f32bdfe9031c4deb568"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af31c84fcf9811fc72614abc2be3b5a44" id="r_af31c84fcf9811fc72614abc2be3b5a44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#af31c84fcf9811fc72614abc2be3b5a44">ExceptionHandler</a> (<a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361a">ExceptionType</a> <a class="el" href="classListElement.html">which</a>, <a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">vaddr</a>)</td></tr>
<tr class="separator:af31c84fcf9811fc72614abc2be3b5a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070a987f4748d225f4de0e7a98767593" id="r_a070a987f4748d225f4de0e7a98767593"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a070a987f4748d225f4de0e7a98767593">LongToHost</a> (<a class="el" href="classListElement.html">uint64_t</a> <a class="el" href="classListElement.html">word</a>)</td></tr>
<tr class="separator:a070a987f4748d225f4de0e7a98767593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8885fa023be04c6cfb42cfbfd3e46942" id="r_a8885fa023be04c6cfb42cfbfd3e46942"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a8885fa023be04c6cfb42cfbfd3e46942">WordToHost</a> (<a class="el" href="classListElement.html">uint32_t</a> <a class="el" href="classListElement.html">word</a>)</td></tr>
<tr class="separator:a8885fa023be04c6cfb42cfbfd3e46942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae92c9de378987810550aa69b875e807f" id="r_ae92c9de378987810550aa69b875e807f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#ae92c9de378987810550aa69b875e807f">ShortToHost</a> (<a class="el" href="classListElement.html">uint16_t</a> <a class="el" href="classListElement.html">shortword</a>)</td></tr>
<tr class="separator:ae92c9de378987810550aa69b875e807f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722b4c00356582749bac01b3f6efe884" id="r_a722b4c00356582749bac01b3f6efe884"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a722b4c00356582749bac01b3f6efe884">LongToMachine</a> (<a class="el" href="classListElement.html">uint64_t</a> <a class="el" href="classListElement.html">word</a>)</td></tr>
<tr class="separator:a722b4c00356582749bac01b3f6efe884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e33220f6af970b9d93fecea248fffe" id="r_ac0e33220f6af970b9d93fecea248fffe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#ac0e33220f6af970b9d93fecea248fffe">WordToMachine</a> (<a class="el" href="classListElement.html">uint32_t</a> <a class="el" href="classListElement.html">word</a>)</td></tr>
<tr class="separator:ac0e33220f6af970b9d93fecea248fffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be8752c2463241cc0f26763b7d4ee03" id="r_a5be8752c2463241cc0f26763b7d4ee03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="machine_8h.html#a5be8752c2463241cc0f26763b7d4ee03">ShortToMachine</a> (<a class="el" href="classListElement.html">uint16_t</a> <a class="el" href="classListElement.html">shortword</a>)</td></tr>
<tr class="separator:a5be8752c2463241cc0f26763b7d4ee03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data structures to simulate the RISC V machine. </p>
<p>User programs are loaded into "mainMemory"; to Nachos-RiscV, this looks just like an array of bytes. Of course, the Nachos-RiscV kernel is in memory too &ndash; but as in most machines these days, the kernel is loaded into a separate memory region from user programs, and accesses to kernel memory are not translated or paged.</p>
<p>In Nachos-RiscV, user programs are executed one instruction at a time, by the RISC V simulator. Each memory reference is translated, checked for errors, etc.</p>
<p>DO NOT CHANGE &ndash; part of the machine emulation</p>
<hr  />
<p> This file is part of the Nachos-RiscV distribution Copyright (c) 2022 University of Rennes 1.</p>
<p>This program is free software: you can redistribute it and/or modify <br  />
 it under the terms of the GNU General Public License as published by <br  />
 the Free Software Foundation, version 3.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details </p>
<h2><a class="anchor" id="autotoc_md94"></a>
(see see &lt;http://www.gnu.org/licenses/&gt;).</h2>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afa99ec4acc4ecb2dc3c2d05da15d0e3f" name="afa99ec4acc4ecb2dc3c2d05da15d0e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa99ec4acc4ecb2dc3c2d05da15d0e3f">&#9670;&#160;</a></span>MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> MAX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="classListElement.html">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="classListElement.html">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((<a class="el" href="classListElement.html">a</a>) &gt; (<a class="el" href="classListElement.html">b</a>) ? <a class="el" href="classListElement.html">a</a> : <a class="el" href="classListElement.html">b</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3acffbd305ee72dcd4593c0d8af64a4f" name="a3acffbd305ee72dcd4593c0d8af64a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3acffbd305ee72dcd4593c0d8af64a4f">&#9670;&#160;</a></span>MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> MIN</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="classListElement.html">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="classListElement.html">b</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((<a class="el" href="classListElement.html">a</a>) &lt; (<a class="el" href="classListElement.html">b</a>) ? <a class="el" href="classListElement.html">a</a> : <a class="el" href="classListElement.html">b</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3fae2fd34d21368d476a0a2c6abba2fb" name="a3fae2fd34d21368d476a0a2c6abba2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fae2fd34d21368d476a0a2c6abba2fb">&#9670;&#160;</a></span>NUM_FP_REGS <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> NUM_FP_REGS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of floating point registers. </p>

</div>
</div>
<a id="a3fae2fd34d21368d476a0a2c6abba2fb" name="a3fae2fd34d21368d476a0a2c6abba2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fae2fd34d21368d476a0a2c6abba2fb">&#9670;&#160;</a></span>NUM_FP_REGS <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> NUM_FP_REGS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of floating point registers. </p>

</div>
</div>
<a id="a9b76404084d8d806c7df776d27d48dc7" name="a9b76404084d8d806c7df776d27d48dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b76404084d8d806c7df776d27d48dc7">&#9670;&#160;</a></span>NUM_INT_REGS <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> NUM_INT_REGS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of integer registers. </p>

</div>
</div>
<a id="a9b76404084d8d806c7df776d27d48dc7" name="a9b76404084d8d806c7df776d27d48dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b76404084d8d806c7df776d27d48dc7">&#9670;&#160;</a></span>NUM_INT_REGS <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> NUM_INT_REGS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of integer registers. </p>

</div>
</div>
<a id="ab245012716d7f793b3e961f477f5de97" name="ab245012716d7f793b3e961f477f5de97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab245012716d7f793b3e961f477f5de97">&#9670;&#160;</a></span>RETADDR_REG <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> RETADDR_REG&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Holds return address for procedure calls. </p>

</div>
</div>
<a id="ab245012716d7f793b3e961f477f5de97" name="ab245012716d7f793b3e961f477f5de97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab245012716d7f793b3e961f477f5de97">&#9670;&#160;</a></span>RETADDR_REG <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> RETADDR_REG&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Holds return address for procedure calls. </p>

</div>
</div>
<a id="a73dc20b8ae9ab7f19998c882a960d9af" name="a73dc20b8ae9ab7f19998c882a960d9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73dc20b8ae9ab7f19998c882a960d9af">&#9670;&#160;</a></span>STACK_REG <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> STACK_REG&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User's stack pointer. </p>

</div>
</div>
<a id="a73dc20b8ae9ab7f19998c882a960d9af" name="a73dc20b8ae9ab7f19998c882a960d9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73dc20b8ae9ab7f19998c882a960d9af">&#9670;&#160;</a></span>STACK_REG <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#<a class="el" href="classListElement.html">define</a> STACK_REG&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User's stack pointer. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="acc6a4e1741d2f96cf2e1ac3229da361a" name="acc6a4e1741d2f96cf2e1ac3229da361a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6a4e1741d2f96cf2e1ac3229da361a">&#9670;&#160;</a></span>ExceptionType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">enum</a> <a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361a">ExceptionType</a> : <a class="el" href="classListElement.html">short</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aa6d50e3b38d44a7fb8ff65445b74795d7" name="acc6a4e1741d2f96cf2e1ac3229da361aa6d50e3b38d44a7fb8ff65445b74795d7"></a>NO_EXCEPTION&#160;</td><td class="fielddoc"><p>Everything ok! </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aaca226f6f463bc1d938251c31eefa6fff" name="acc6a4e1741d2f96cf2e1ac3229da361aaca226f6f463bc1d938251c31eefa6fff"></a>SYSCALL_EXCEPTION&#160;</td><td class="fielddoc"><p>A program executed a system call. </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aaafb606ef5d4b4cd02ab9004b86e9a9f6" name="acc6a4e1741d2f96cf2e1ac3229da361aaafb606ef5d4b4cd02ab9004b86e9a9f6"></a>PAGEFAULT_EXCEPTION&#160;</td><td class="fielddoc"><p>Page fault exception. </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aaa00d5a541217575b93924019bdd7d316" name="acc6a4e1741d2f96cf2e1ac3229da361aaa00d5a541217575b93924019bdd7d316"></a>READONLY_EXCEPTION&#160;</td><td class="fielddoc"><p>Write attempted to page marked "read-only" </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aa2994515a78566b78b53e472898fffb97" name="acc6a4e1741d2f96cf2e1ac3229da361aa2994515a78566b78b53e472898fffb97"></a>BUSERROR_EXCEPTION&#160;</td><td class="fielddoc"><p>Translation resulted in an invalid physical address (mis-aligned or out-of-bounds) </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aa565d4f7ba7f00cd0025f82a32f43f2fc" name="acc6a4e1741d2f96cf2e1ac3229da361aa565d4f7ba7f00cd0025f82a32f43f2fc"></a>ADDRESSERROR_EXCEPTION&#160;</td><td class="fielddoc"><p>Reference that was not mapped in the address space </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aa36384b759e31fc1e8eeb475550f67b62" name="acc6a4e1741d2f96cf2e1ac3229da361aa36384b759e31fc1e8eeb475550f67b62"></a>OVERFLOW_EXCEPTION&#160;</td><td class="fielddoc"><p>Integer overflow in add or sub. </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aa04d5cf244e022cc4607471972063e0a6" name="acc6a4e1741d2f96cf2e1ac3229da361aa04d5cf244e022cc4607471972063e0a6"></a>ILLEGALINSTR_EXCEPTION&#160;</td><td class="fielddoc"><p>Unimplemented or reserved instr. </p>
</td></tr>
<tr><td class="fieldname"><a id="acc6a4e1741d2f96cf2e1ac3229da361aa83e7a5ff1701f68a8ca17dad10f8f8d2" name="acc6a4e1741d2f96cf2e1ac3229da361aa83e7a5ff1701f68a8ca17dad10f8f8d2"></a>NUM_EXCEPTION_TYPES&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a5cc6b28ebc1a6f32bdfe9031c4deb568" name="a5cc6b28ebc1a6f32bdfe9031c4deb568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc6b28ebc1a6f32bdfe9031c4deb568">&#9670;&#160;</a></span>MachineStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">enum</a> <a class="el" href="machine_8h.html#a5cc6b28ebc1a6f32bdfe9031c4deb568">MachineStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Nachos-RiscV can be running kernel code (SYSTEM_MODE), user code (USER_MODE), or there can be no runnable thread, because the ready list is empty (IDLE_MODE). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a163f0a45d065ea9c362dc3238fa48488" name="a5cc6b28ebc1a6f32bdfe9031c4deb568a163f0a45d065ea9c362dc3238fa48488"></a>IDLE_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a4491b929f6df22f919e4fb15efc9ba7f" name="a5cc6b28ebc1a6f32bdfe9031c4deb568a4491b929f6df22f919e4fb15efc9ba7f"></a>SYSTEM_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a8f1d0f52603058645d563a80d7f589a3" name="a5cc6b28ebc1a6f32bdfe9031c4deb568a8f1d0f52603058645d563a80d7f589a3"></a>USER_MODE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af31c84fcf9811fc72614abc2be3b5a44" name="af31c84fcf9811fc72614abc2be3b5a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31c84fcf9811fc72614abc2be3b5a44">&#9670;&#160;</a></span>ExceptionHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> ExceptionHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="machine_8h.html#acc6a4e1741d2f96cf2e1ac3229da361a">ExceptionType</a>&#160;</td>
          <td class="paramname"><em>exceptiontype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>vaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Entry point into Nachos to handle user system calls and exceptions. </p>
<p>Entry point into the Nachos kernel. Called when a user program is executing, and either does a syscall, or generates an addressing or arithmetic exception.</p>
<p>For system calls, the calling convention is the following:</p>
<ul>
<li>system call identifier &ndash; r17</li>
<li>arg1 &ndash; r10</li>
<li>arg2 &ndash; r11</li>
<li>arg3 &ndash; r12</li>
<li>arg4 &ndash; r13</li>
</ul>
<p>The result of the system call, if any, must be put back into register r10</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exceptiontype</td><td>is the kind of exception. The list of possible exception are defined in <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">machine.h</a>. </td></tr>
    <tr><td class="paramname">vaddr</td><td>is the address that causes the exception to occur (when used) <br  />
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a070a987f4748d225f4de0e7a98767593" name="a070a987f4748d225f4de0e7a98767593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070a987f4748d225f4de0e7a98767593">&#9670;&#160;</a></span>LongToHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint64_t</a> LongToHost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">uint64_t</a>&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a722b4c00356582749bac01b3f6efe884" name="a722b4c00356582749bac01b3f6efe884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722b4c00356582749bac01b3f6efe884">&#9670;&#160;</a></span>LongToMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint64_t</a> LongToMachine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">uint64_t</a>&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae92c9de378987810550aa69b875e807f" name="ae92c9de378987810550aa69b875e807f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae92c9de378987810550aa69b875e807f">&#9670;&#160;</a></span>ShortToHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint16_t</a> ShortToHost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">uint16_t</a>&#160;</td>
          <td class="paramname"><em>shortword</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5be8752c2463241cc0f26763b7d4ee03" name="a5be8752c2463241cc0f26763b7d4ee03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be8752c2463241cc0f26763b7d4ee03">&#9670;&#160;</a></span>ShortToMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint16_t</a> ShortToMachine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">uint16_t</a>&#160;</td>
          <td class="paramname"><em>shortword</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8885fa023be04c6cfb42cfbfd3e46942" name="a8885fa023be04c6cfb42cfbfd3e46942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8885fa023be04c6cfb42cfbfd3e46942">&#9670;&#160;</a></span>WordToHost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint32_t</a> WordToHost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac0e33220f6af970b9d93fecea248fffe" name="ac0e33220f6af970b9d93fecea248fffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e33220f6af970b9d93fecea248fffe">&#9670;&#160;</a></span>WordToMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint32_t</a> WordToMachine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>word</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
