<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: AddrSpace Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classAddrSpace-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">AddrSpace Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="addrspace_8h_source.html">addrspace.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for AddrSpace:</div>
<div class="dyncontent">
<div class="center"><img src="classAddrSpace__coll__graph.png" border="0" usemap="#aAddrSpace_coll__map" alt="Collaboration graph"/></div>
<map name="aAddrSpace_coll__map" id="aAddrSpace_coll__map">
<area shape="rect" title="Defines the data structures to keep track of memory resources of executing user programs (address spa..." alt="" coords="94,1379,286,1625"/>
<area shape="rect" href="classProcess.html" title="Defines the data structures to keep track of the execution environment of a user program." alt="" coords="148,1817,257,1943"/>
<area shape="poly" title=" " alt="" coords="148,1625,140,1666,135,1709,136,1751,145,1793,148,1801,143,1803,140,1794,131,1752,130,1708,134,1665,143,1624"/>
<area shape="rect" href="classTranslationTable.html" title="Defines the data structures used for address translation." alt="" coords="230,921,388,1187"/>
<area shape="poly" title=" " alt="" coords="281,1187,272,1226,234,1364,229,1362,266,1225,276,1186"/>
<area shape="rect" href="classPageTableEntry.html" title="Defines an entry in a simple translation table." alt="" coords="240,573,378,799"/>
<area shape="poly" title=" " alt="" coords="312,799,312,905,306,905,306,799"/>
<area shape="poly" title=" " alt="" coords="222,1817,228,1793,232,1755,232,1717,223,1641,229,1641,237,1716,237,1756,233,1794,228,1818"/>
<area shape="rect" href="classOpenFile.html" title="Defines the data structure maintained when a file is opened." alt="" coords="26,513,158,859"/>
<area shape="poly" title=" " alt="" coords="54,859,38,948,24,1049,13,1160,8,1277,11,1398,24,1520,47,1639,64,1697,85,1754,107,1792,137,1825,133,1829,103,1795,80,1756,59,1699,42,1641,18,1521,6,1398,3,1277,8,1159,19,1049,33,947,49,858"/>
<area shape="rect" href="structs__mapped__file.html" title="Information describing a memory&#45;mapped file." alt="" coords="94,1011,206,1097"/>
<area shape="poly" title=" " alt="" coords="122,858,144,995,139,996,117,859"/>
<area shape="rect" href="classFileHeader.html" title="Defines a file header in the Nachos file system." alt="" coords="14,5,169,451"/>
<area shape="poly" title=" " alt="" coords="94,451,94,497,89,497,89,451"/>
<area shape="rect" href="classProcessStat.html" title="Defines statistics that concern a particular process." alt="" coords="310,1249,505,1755"/>
<area shape="poly" title=" " alt="" coords="322,1756,298,1795,271,1827,267,1823,294,1792,317,1753"/>
<area shape="poly" title=" " alt="" coords="157,1097,181,1362,175,1363,151,1097"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acd3d2a68587b04ed5740e87895613821" id="r_acd3d2a68587b04ed5740e87895613821"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#acd3d2a68587b04ed5740e87895613821">AddrSpace</a> (<a class="el" href="classOpenFile.html">OpenFile</a> *exec_file, <a class="el" href="classProcess.html">Process</a> *<a class="el" href="classListElement.html">p</a>, <a class="el" href="classListElement.html">int</a> *<a class="el" href="classListElement.html">err</a>)</td></tr>
<tr class="separator:acd3d2a68587b04ed5740e87895613821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4a9431912394188b08c03346632737" id="r_add4a9431912394188b08c03346632737"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#add4a9431912394188b08c03346632737">~AddrSpace</a> ()</td></tr>
<tr class="separator:add4a9431912394188b08c03346632737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9c7caf4271badbf81367093e75f61e" id="r_aad9c7caf4271badbf81367093e75f61e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#aad9c7caf4271badbf81367093e75f61e">StackAllocate</a> ()</td></tr>
<tr class="separator:aad9c7caf4271badbf81367093e75f61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60568865feaaea57e31577176da68d15" id="r_a60568865feaaea57e31577176da68d15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a60568865feaaea57e31577176da68d15">getCodeStartAddress32</a> ()</td></tr>
<tr class="separator:a60568865feaaea57e31577176da68d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44661de8a951c8eb7c1ac94d30cff0ac" id="r_a44661de8a951c8eb7c1ac94d30cff0ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a44661de8a951c8eb7c1ac94d30cff0ac">getCodeStartAddress64</a> ()</td></tr>
<tr class="separator:a44661de8a951c8eb7c1ac94d30cff0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22511aaaab26f2e7a6baeb278a9fe17" id="r_ab22511aaaab26f2e7a6baeb278a9fe17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#ab22511aaaab26f2e7a6baeb278a9fe17">Mmap</a> (<a class="el" href="classOpenFile.html">OpenFile</a> *<a class="el" href="classListElement.html">f</a>, <a class="el" href="classListElement.html">int</a> size)</td></tr>
<tr class="separator:ab22511aaaab26f2e7a6baeb278a9fe17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4977101dc1d71ff9691c0a83cf10946" id="r_aa4977101dc1d71ff9691c0a83cf10946"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#aa4977101dc1d71ff9691c0a83cf10946">findMappedFile</a> (<a class="el" href="classListElement.html">int64_t</a> <a class="el" href="classListElement.html">addr</a>)</td></tr>
<tr class="separator:aa4977101dc1d71ff9691c0a83cf10946"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0bd5650b339c21069abf1be627bbba61" id="r_a0bd5650b339c21069abf1be627bbba61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTranslationTable.html">TranslationTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a0bd5650b339c21069abf1be627bbba61">translationTable</a></td></tr>
<tr class="separator:a0bd5650b339c21069abf1be627bbba61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1df35fd70f75f7bdd13f94e711572355" id="r_a1df35fd70f75f7bdd13f94e711572355"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a1df35fd70f75f7bdd13f94e711572355">Alloc</a> (<a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">numPages</a>)</td></tr>
<tr class="separator:a1df35fd70f75f7bdd13f94e711572355"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a28a448e44a1a4807bc7bb89952605417" id="r_a28a448e44a1a4807bc7bb89952605417"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a28a448e44a1a4807bc7bb89952605417">CodeStartAddress</a></td></tr>
<tr class="separator:a28a448e44a1a4807bc7bb89952605417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac443a36498533e6df298a88082f9ff7f" id="r_ac443a36498533e6df298a88082f9ff7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#ac443a36498533e6df298a88082f9ff7f">freePageId</a></td></tr>
<tr class="separator:ac443a36498533e6df298a88082f9ff7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f8d1be01fea3a2f714c4ee9cb65816" id="r_a17f8d1be01fea3a2f714c4ee9cb65816"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classProcess.html">Process</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a17f8d1be01fea3a2f714c4ee9cb65816">process</a></td></tr>
<tr class="separator:a17f8d1be01fea3a2f714c4ee9cb65816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc6be4f6bc1db60e6b3560c525c0461" id="r_a8cc6be4f6bc1db60e6b3560c525c0461"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a8cc6be4f6bc1db60e6b3560c525c0461">nb_mapped_files</a></td></tr>
<tr class="separator:a8cc6be4f6bc1db60e6b3560c525c0461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eef6e4e265004d36d6ae5eefa4a0670" id="r_a9eef6e4e265004d36d6ae5eefa4a0670"><td class="memItemLeft" align="right" valign="top"><a class="el" href="addrspace_8h.html#a728b85a45455e8b71d439f0ceb3fb5ec">t_mapped_files</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAddrSpace.html#a9eef6e4e265004d36d6ae5eefa4a0670">mapped_files</a></td></tr>
<tr class="separator:a9eef6e4e265004d36d6ae5eefa4a0670"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the data structures to keep track of memory resources of executing user programs (address spaces). </p>
<p>The constructor of this class takes as parameter an ELF executable file and loads it in the RAM of the (simulated) MIPS processor. This part will be modified in the virtual memory assignment to implement demand paging (on-demand loading of code/data). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acd3d2a68587b04ed5740e87895613821" name="acd3d2a68587b04ed5740e87895613821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3d2a68587b04ed5740e87895613821">&#9670;&#160;</a></span>AddrSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AddrSpace::AddrSpace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td>
          <td class="paramname"><em>exec_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classProcess.html">Process</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an address space to run a user program. Load the program from a file "exec_file", and set everything up so that we can start executing user instructions.</p>
<p>Executables are in ELF (Executable and Linkable Format) (see <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">elf32.h</a>) and can be generated using a standard MIPS cross-compiler (here gcc).</p>
<p>For now, the code and data are entirely loaded into memory and the stacks are preallocated (NB: memory here stands for the memory of the simulated MIPS machine). Code/Data loading will be changed in the virtual memory assignment.</p>
<p>Don't look at this code right now. You may get lost. You will have plenty of time to do so in the virtual memory assignment</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exec_file</td><td>is the file containing the object code to load into memory, or NULL when the address space should be empty </td></tr>
    <tr><td class="paramname">process</td><td>process to be executed </td></tr>
    <tr><td class="paramname">err</td><td>error code 0 if OK, -1 otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Create an address space to run a user program. Load the program from a file "exec_file", and set everything up so that we can start executing user instructions.</p>
<p>Executables are in ELF (Executable and Linkable Format) (see <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">elf32.h</a>) and can be generated using a standard MIPS cross-compiler (here gcc).</p>
<p>For now, the code and data are entirely loaded into memory and the stacks are preallocated (NB: memory here stands for the memory of the simulated MIPS machine). Code/Data loading will be changed in the virtual memory assignment.</p>
<p>Don't look at this code right now. You may get lost. You will have plenty of time to do so in the virtual memory assignment</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exec_file</td><td>is the file containing the object code to load into memory, or NULL when the address space should be empty </td></tr>
    <tr><td class="paramname">process</td><td>process to be executed </td></tr>
    <tr><td class="paramname">err</td><td>error code 0 if OK, ERROR otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add4a9431912394188b08c03346632737" name="add4a9431912394188b08c03346632737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4a9431912394188b08c03346632737">&#9670;&#160;</a></span>~AddrSpace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AddrSpace::~AddrSpace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocates an address space and in particular frees all memory it uses (RAM and swap area). </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1df35fd70f75f7bdd13f94e711572355" name="a1df35fd70f75f7bdd13f94e711572355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1df35fd70f75f7bdd13f94e711572355">&#9670;&#160;</a></span>Alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> AddrSpace::Alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>numPages</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate numPages virtual pages in the current address space</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numPages</td><td>the number of contiguous virtual pages to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual page number of the beginning of the allocated area, or -1 when not enough virtual space is available</dd></dl>
<p>Allocate numPages virtual pages in the current address space</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numPages</td><td>the number of contiguous virtual pages to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual page number of the beginning of the allocated area, or INVALID_PAGE when not enough virtual space is available </dd></dl>

</div>
</div>
<a id="aa4977101dc1d71ff9691c0a83cf10946" name="aa4977101dc1d71ff9691c0a83cf10946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4977101dc1d71ff9691c0a83cf10946">&#9670;&#160;</a></span>findMappedFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenFile.html">OpenFile</a> * AddrSpace::findMappedFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">int64_t</a>&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search if the address is in a memory-mapped file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>virtual address to be searched for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>address of file descriptor if found, NULL otherwise </dd></dl>

</div>
</div>
<a id="a60568865feaaea57e31577176da68d15" name="a60568865feaaea57e31577176da68d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60568865feaaea57e31577176da68d15">&#9670;&#160;</a></span>getCodeStartAddress32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int32_t</a> AddrSpace::getCodeStartAddress32 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the address of the first instruction to execute in the process found in the ELF file </p>

</div>
</div>
<a id="a44661de8a951c8eb7c1ac94d30cff0ac" name="a44661de8a951c8eb7c1ac94d30cff0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44661de8a951c8eb7c1ac94d30cff0ac">&#9670;&#160;</a></span>getCodeStartAddress64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int64_t</a> AddrSpace::getCodeStartAddress64 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab22511aaaab26f2e7a6baeb278a9fe17" name="ab22511aaaab26f2e7a6baeb278a9fe17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22511aaaab26f2e7a6baeb278a9fe17">&#9670;&#160;</a></span>Mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">uint64_t</a> AddrSpace::Mmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map an open file in memory</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>pointer to open file descriptor </td></tr>
    <tr><td class="paramname">size</td><td>size to be mapped (rounded up to next page boundary)</td></tr>
  </table>
  </dd>
</dl>
<p>Map an open file in memory</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>pointer to open file descriptor </td></tr>
    <tr><td class="paramname">size</td><td>size to be mapped in bytes (rounded up to next page boundary) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the virtual address at which the file is mapped </dd></dl>

</div>
</div>
<a id="aad9c7caf4271badbf81367093e75f61e" name="aad9c7caf4271badbf81367093e75f61e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad9c7caf4271badbf81367093e75f61e">&#9670;&#160;</a></span>StackAllocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> AddrSpace::StackAllocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates a new stack of size cfg-&gt;UserStackSize</p>
<p>Allocation is done by calling Alloc, a very simple allocation procedure of virtual memory areas.</p>
<dl class="section return"><dt>Returns</dt><dd>stack pointer (at the end of the allocated stack)</dd></dl>
<p>Allocates a new stack of size g_cfg-&gt;UserStackSize </p><pre class="fragment">Allocation is done by calling Alloc, a very simple
allocation procedure of virtual memory areas.

\return stack pointer (at the end of the allocated stack)
</pre> 
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a28a448e44a1a4807bc7bb89952605417" name="a28a448e44a1a4807bc7bb89952605417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a448e44a1a4807bc7bb89952605417">&#9670;&#160;</a></span>CodeStartAddress</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int64_t</a> AddrSpace::CodeStartAddress</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac443a36498533e6df298a88082f9ff7f" name="ac443a36498533e6df298a88082f9ff7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac443a36498533e6df298a88082f9ff7f">&#9670;&#160;</a></span>freePageId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> AddrSpace::freePageId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of the next virtual page to be allocated. Virtual addresses allocated in a very simple manner : an allocation will simply increment this address by the size of the allocated object (there are no complex malloc/free functions implemented yet) </p>

</div>
</div>
<a id="a9eef6e4e265004d36d6ae5eefa4a0670" name="a9eef6e4e265004d36d6ae5eefa4a0670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eef6e4e265004d36d6ae5eefa4a0670">&#9670;&#160;</a></span>mapped_files</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="addrspace_8h.html#a728b85a45455e8b71d439f0ceb3fb5ec">t_mapped_files</a> AddrSpace::mapped_files</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8cc6be4f6bc1db60e6b3560c525c0461" name="a8cc6be4f6bc1db60e6b3560c525c0461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc6be4f6bc1db60e6b3560c525c0461">&#9670;&#160;</a></span>nb_mapped_files</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> AddrSpace::nb_mapped_files</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classList.html" title="Definition of a generic single-linked &quot;list&quot;.">List</a> of memory-mapped files </p>

</div>
</div>
<a id="a17f8d1be01fea3a2f714c4ee9cb65816" name="a17f8d1be01fea3a2f714c4ee9cb65816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f8d1be01fea3a2f714c4ee9cb65816">&#9670;&#160;</a></span>process</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classProcess.html">Process</a>* AddrSpace::process</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>(Heavyweight) process using this address space </p>

</div>
</div>
<a id="a0bd5650b339c21069abf1be627bbba61" name="a0bd5650b339c21069abf1be627bbba61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd5650b339c21069abf1be627bbba61">&#9670;&#160;</a></span>translationTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTranslationTable.html">TranslationTable</a>* AddrSpace::translationTable</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Translation table. This table will be discovered in the virtual memory assignement, and is used to know where virtual pages are allocated in RAM. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>kernel/<a class="el" href="addrspace_8h_source.html">addrspace.h</a></li>
<li>kernel/<a class="el" href="addrspace_8cc.html">addrspace.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
