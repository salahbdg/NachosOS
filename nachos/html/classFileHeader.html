<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: FileHeader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classFileHeader-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FileHeader Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="filehdr_8h_source.html">filehdr.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for FileHeader:</div>
<div class="dyncontent">
<div class="center"><img src="classFileHeader__coll__graph.png" border="0" usemap="#aFileHeader_coll__map" alt="Collaboration graph"/></div>
<map name="aFileHeader_coll__map" id="aFileHeader_coll__map">
<area shape="rect" title="Defines a file header in the Nachos file system." alt="" coords="5,5,160,451"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a16f39782497b77b83470c65033b33c86" id="r_a16f39782497b77b83470c65033b33c86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a16f39782497b77b83470c65033b33c86">FileHeader</a> (<a class="el" href="classListElement.html">void</a>)</td></tr>
<tr class="separator:a16f39782497b77b83470c65033b33c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae905feff544db96a5f4686d138a7da81" id="r_ae905feff544db96a5f4686d138a7da81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#ae905feff544db96a5f4686d138a7da81">~FileHeader</a> (<a class="el" href="classListElement.html">void</a>)</td></tr>
<tr class="separator:ae905feff544db96a5f4686d138a7da81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb90f63470e10c847393e124763fd1a" id="r_a2fb90f63470e10c847393e124763fd1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a2fb90f63470e10c847393e124763fd1a">Allocate</a> (<a class="el" href="classBitMap.html">BitMap</a> *<a class="el" href="classListElement.html">bitMap</a>, <a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">fileSize</a>)</td></tr>
<tr class="separator:a2fb90f63470e10c847393e124763fd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa31f3a959a74b0134a544858021457f" id="r_afa31f3a959a74b0134a544858021457f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#afa31f3a959a74b0134a544858021457f">reAllocate</a> (<a class="el" href="classBitMap.html">BitMap</a> *, <a class="el" href="classListElement.html">int</a>, <a class="el" href="classListElement.html">int</a>)</td></tr>
<tr class="separator:afa31f3a959a74b0134a544858021457f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8a66db0af2460ccb27edd8d2331179" id="r_a0d8a66db0af2460ccb27edd8d2331179"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a0d8a66db0af2460ccb27edd8d2331179">Deallocate</a> (<a class="el" href="classBitMap.html">BitMap</a> *<a class="el" href="classListElement.html">bitMap</a>)</td></tr>
<tr class="separator:a0d8a66db0af2460ccb27edd8d2331179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85564cee98fc9592df08cc5e4a2efc6" id="r_aa85564cee98fc9592df08cc5e4a2efc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#aa85564cee98fc9592df08cc5e4a2efc6">FetchFrom</a> (<a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">sectorNumber</a>)</td></tr>
<tr class="separator:aa85564cee98fc9592df08cc5e4a2efc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab896cc7dd7274e3f8072da2c7d9beee8" id="r_ab896cc7dd7274e3f8072da2c7d9beee8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#ab896cc7dd7274e3f8072da2c7d9beee8">WriteBack</a> (<a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">sectorNumber</a>)</td></tr>
<tr class="separator:ab896cc7dd7274e3f8072da2c7d9beee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adacbe1c1af441d0b1e978c65a05d60f2" id="r_adacbe1c1af441d0b1e978c65a05d60f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#adacbe1c1af441d0b1e978c65a05d60f2">ByteToSector</a> (<a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">offset</a>)</td></tr>
<tr class="separator:adacbe1c1af441d0b1e978c65a05d60f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676d88bbc37d3d108625be75d637a8e6" id="r_a676d88bbc37d3d108625be75d637a8e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a676d88bbc37d3d108625be75d637a8e6">FileLength</a> ()</td></tr>
<tr class="separator:a676d88bbc37d3d108625be75d637a8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcba7e634e37555f08c39dd9c63597a" id="r_a8dcba7e634e37555f08c39dd9c63597a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a8dcba7e634e37555f08c39dd9c63597a">ChangeFileLength</a> (<a class="el" href="classListElement.html">int</a>)</td></tr>
<tr class="separator:a8dcba7e634e37555f08c39dd9c63597a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff760f3edaad0bfb6862a4e93b005c6" id="r_aeff760f3edaad0bfb6862a4e93b005c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#aeff760f3edaad0bfb6862a4e93b005c6">MaxFileLength</a> ()</td></tr>
<tr class="separator:aeff760f3edaad0bfb6862a4e93b005c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b661cda2c4d51ee06cc29e7ea0a0c0" id="r_a57b661cda2c4d51ee06cc29e7ea0a0c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a57b661cda2c4d51ee06cc29e7ea0a0c0">Print</a> ()</td></tr>
<tr class="separator:a57b661cda2c4d51ee06cc29e7ea0a0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43a97c41cef7b52a01c5d1da28ed3fa" id="r_ae43a97c41cef7b52a01c5d1da28ed3fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#ae43a97c41cef7b52a01c5d1da28ed3fa">IsDir</a> ()</td></tr>
<tr class="separator:ae43a97c41cef7b52a01c5d1da28ed3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa154a9b7f22b2c170b9545c627251d92" id="r_aa154a9b7f22b2c170b9545c627251d92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#aa154a9b7f22b2c170b9545c627251d92">SetFile</a> ()</td></tr>
<tr class="separator:aa154a9b7f22b2c170b9545c627251d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1099a20b5ca3009ba75ba05492528682" id="r_a1099a20b5ca3009ba75ba05492528682"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a1099a20b5ca3009ba75ba05492528682">SetDir</a> ()</td></tr>
<tr class="separator:a1099a20b5ca3009ba75ba05492528682"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acc0eae005e756dff08b61ba8c34c9d4b" id="r_acc0eae005e756dff08b61ba8c34c9d4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#acc0eae005e756dff08b61ba8c34c9d4b">isdir</a></td></tr>
<tr class="separator:acc0eae005e756dff08b61ba8c34c9d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce2c3a2c0eb628a60120acecf8a225b" id="r_a8ce2c3a2c0eb628a60120acecf8a225b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a8ce2c3a2c0eb628a60120acecf8a225b">numBytes</a></td></tr>
<tr class="separator:a8ce2c3a2c0eb628a60120acecf8a225b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab18c90cd87cf858a00b65bc7023cc28e" id="r_ab18c90cd87cf858a00b65bc7023cc28e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#ab18c90cd87cf858a00b65bc7023cc28e">numSectors</a></td></tr>
<tr class="separator:ab18c90cd87cf858a00b65bc7023cc28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd98d1034f5eb9226c4e79dda23568fe" id="r_afd98d1034f5eb9226c4e79dda23568fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#afd98d1034f5eb9226c4e79dda23568fe">dataSectors</a></td></tr>
<tr class="separator:afd98d1034f5eb9226c4e79dda23568fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683ba393dd1f337a4c5643693db43b52" id="r_a683ba393dd1f337a4c5643693db43b52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a683ba393dd1f337a4c5643693db43b52">numHeaderSectors</a></td></tr>
<tr class="separator:a683ba393dd1f337a4c5643693db43b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c86bdf7e9237e748630ed154c197881" id="r_a2c86bdf7e9237e748630ed154c197881"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileHeader.html#a2c86bdf7e9237e748630ed154c197881">headerSectors</a> [<a class="el" href="filehdr_8h.html#a526438ef41b0a0feb54f5ea55f92a198">MAX_HEADER_SECTORS</a>]</td></tr>
<tr class="separator:a2c86bdf7e9237e748630ed154c197881"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines a file header in the Nachos file system. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a16f39782497b77b83470c65033b33c86" name="a16f39782497b77b83470c65033b33c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f39782497b77b83470c65033b33c86">&#9670;&#160;</a></span>FileHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileHeader::FileHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae905feff544db96a5f4686d138a7da81" name="ae905feff544db96a5f4686d138a7da81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae905feff544db96a5f4686d138a7da81">&#9670;&#160;</a></span>~FileHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileHeader::~FileHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2fb90f63470e10c847393e124763fd1a" name="a2fb90f63470e10c847393e124763fd1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb90f63470e10c847393e124763fd1a">&#9670;&#160;</a></span>Allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">bool</a> FileHeader::Allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitMap.html">BitMap</a> *&#160;</td>
          <td class="paramname"><em>freeMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>fileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a file header, <br  />
 including allocating space on disk for the file data</p>
<p>Initialize a file header, including allocating space on disk for the file data. Allocate data and header blocks for the file out of the map of free disk blocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freeMap</td><td>is the bitmap of free disk sectors </td></tr>
    <tr><td class="paramname">fileSize</td><td>is the required number of bytes in the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if there are not enough free blocks to accomodate the new file. </dd></dl>

</div>
</div>
<a id="adacbe1c1af441d0b1e978c65a05d60f2" name="adacbe1c1af441d0b1e978c65a05d60f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adacbe1c1af441d0b1e978c65a05d60f2">&#9670;&#160;</a></span>ByteToSector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::ByteToSector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a byte offset into the file to the disk sector containing the byte</p>
<p>This is essentially a translation from a virtual address (the offset in the file) to a physical address (the sector where the data at the offset is stored).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>is the location within the file of the byte in question </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>which disk sector is storing a particular byte within the file. </dd></dl>

</div>
</div>
<a id="a8dcba7e634e37555f08c39dd9c63597a" name="a8dcba7e634e37555f08c39dd9c63597a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcba7e634e37555f08c39dd9c63597a">&#9670;&#160;</a></span>ChangeFileLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::ChangeFileLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>newsize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets the length of the file in bytes</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newsize</td><td>the new size of the file, in bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d8a66db0af2460ccb27edd8d2331179" name="a0d8a66db0af2460ccb27edd8d2331179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8a66db0af2460ccb27edd8d2331179">&#9670;&#160;</a></span>Deallocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::Deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitMap.html">BitMap</a> *&#160;</td>
          <td class="paramname"><em>freeMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-allocate this file's. </p>
<p>De-allocate all the space allocated for data blocks for this file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freeMap</td><td>is the bit map of free disk sectors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa85564cee98fc9592df08cc5e4a2efc6" name="aa85564cee98fc9592df08cc5e4a2efc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85564cee98fc9592df08cc5e4a2efc6">&#9670;&#160;</a></span>FetchFrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::FetchFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>sector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize file header from disk. </p>
<p>Fetch contents of file header from disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sector</td><td>is the disk sector containing the file header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a676d88bbc37d3d108625be75d637a8e6" name="a676d88bbc37d3d108625be75d637a8e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676d88bbc37d3d108625be75d637a8e6">&#9670;&#160;</a></span>FileLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::FileLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>in bytes </p>
<p>Return the length of the file <br  />
</p>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes in the file. </dd></dl>

</div>
</div>
<a id="ae43a97c41cef7b52a01c5d1da28ed3fa" name="ae43a97c41cef7b52a01c5d1da28ed3fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43a97c41cef7b52a01c5d1da28ed3fa">&#9670;&#160;</a></span>IsDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">bool</a> FileHeader::IsDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>return true if the file header is marked as a directory.</p>
<p>if this header is a directory header then this function return true. </p><dl class="section return"><dt>Returns</dt><dd>true if this file is a directory </dd></dl>

</div>
</div>
<a id="aeff760f3edaad0bfb6862a4e93b005c6" name="aeff760f3edaad0bfb6862a4e93b005c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff760f3edaad0bfb6862a4e93b005c6">&#9670;&#160;</a></span>MaxFileLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::MaxFileLength </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the maximum length of the file without reallocating data blocks</p>
<dl class="section return"><dt>Returns</dt><dd>the maximum number of bytes we can put in the file without reallocating. </dd></dl>

</div>
</div>
<a id="a57b661cda2c4d51ee06cc29e7ea0a0c0" name="a57b661cda2c4d51ee06cc29e7ea0a0c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b661cda2c4d51ee06cc29e7ea0a0c0">&#9670;&#160;</a></span>Print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::Print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the contents of the file. </p>
<p>Print the contents of the file header, and the contents of all the data blocks pointed to by the file header. </p>

</div>
</div>
<a id="afa31f3a959a74b0134a544858021457f" name="afa31f3a959a74b0134a544858021457f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa31f3a959a74b0134a544858021457f">&#9670;&#160;</a></span>reAllocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">bool</a> FileHeader::reAllocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBitMap.html">BitMap</a> *&#160;</td>
          <td class="paramname"><em>freeMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>oldFileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>newFileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>add new data blocks needed and new header blocks if necessary</p>
<p>add new data blocks when the file grows up and allocate new header blocks if necessary. Allocate data and header blocks for the file out of the map of free disk blocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freeMap</td><td>is the bit map of free disk sectors </td></tr>
    <tr><td class="paramname">oldFileSize</td><td>is the actual number of bytes in the file </td></tr>
    <tr><td class="paramname">newFileSize</td><td>is the wanted number of bytes in the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if there are not enough free blocks to accomodate the new file. </dd></dl>

</div>
</div>
<a id="a1099a20b5ca3009ba75ba05492528682" name="a1099a20b5ca3009ba75ba05492528682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1099a20b5ca3009ba75ba05492528682">&#9670;&#160;</a></span>SetDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::SetDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this header as a directory header. </p>
<p>Mark this file as a directory. </p>

</div>
</div>
<a id="aa154a9b7f22b2c170b9545c627251d92" name="aa154a9b7f22b2c170b9545c627251d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa154a9b7f22b2c170b9545c627251d92">&#9670;&#160;</a></span>SetFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::SetFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark this header as a file header. </p>
<p>Mark this file as a file and not a directory. </p>

</div>
</div>
<a id="ab896cc7dd7274e3f8072da2c7d9beee8" name="ab896cc7dd7274e3f8072da2c7d9beee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab896cc7dd7274e3f8072da2c7d9beee8">&#9670;&#160;</a></span>WriteBack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileHeader::WriteBack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>sector</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>back to disk </p>
<p>Write modifications to file header</p>
<p>Write the modified contents of the file header back to disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sector</td><td>is the disk sector to contain the file header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afd98d1034f5eb9226c4e79dda23568fe" name="afd98d1034f5eb9226c4e79dda23568fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd98d1034f5eb9226c4e79dda23568fe">&#9670;&#160;</a></span>dataSectors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a>* FileHeader::dataSectors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classDisk.html" title="Defines a physical disk I/O device.">Disk</a> sector numbers for each data block in the file </p>

</div>
</div>
<a id="a2c86bdf7e9237e748630ed154c197881" name="a2c86bdf7e9237e748630ed154c197881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c86bdf7e9237e748630ed154c197881">&#9670;&#160;</a></span>headerSectors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::headerSectors[<a class="el" href="filehdr_8h.html#a526438ef41b0a0feb54f5ea55f92a198">MAX_HEADER_SECTORS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classDisk.html" title="Defines a physical disk I/O device.">Disk</a> sectors numbers for each header block of the file </p>

</div>
</div>
<a id="acc0eae005e756dff08b61ba8c34c9d4b" name="acc0eae005e756dff08b61ba8c34c9d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc0eae005e756dff08b61ba8c34c9d4b">&#9670;&#160;</a></span>isdir</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::isdir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8ce2c3a2c0eb628a60120acecf8a225b" name="a8ce2c3a2c0eb628a60120acecf8a225b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce2c3a2c0eb628a60120acecf8a225b">&#9670;&#160;</a></span>numBytes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::numBytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of bytes in the file. </p>

</div>
</div>
<a id="a683ba393dd1f337a4c5643693db43b52" name="a683ba393dd1f337a4c5643693db43b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683ba393dd1f337a4c5643693db43b52">&#9670;&#160;</a></span>numHeaderSectors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::numHeaderSectors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of sectors used for the header </p>

</div>
</div>
<a id="ab18c90cd87cf858a00b65bc7023cc28e" name="ab18c90cd87cf858a00b65bc7023cc28e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab18c90cd87cf858a00b65bc7023cc28e">&#9670;&#160;</a></span>numSectors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileHeader::numSectors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of data sectors in the file. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>filesys/<a class="el" href="filehdr_8h_source.html">filehdr.h</a></li>
<li>filesys/<a class="el" href="filehdr_8cc.html">filehdr.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
