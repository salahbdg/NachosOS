<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: FileSystem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classFileSystem-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FileSystem Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="filesys_8h_source.html">filesys.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for FileSystem:</div>
<div class="dyncontent">
<div class="center"><img src="classFileSystem__coll__graph.png" border="0" usemap="#aFileSystem_coll__map" alt="Collaboration graph"/></div>
<map name="aFileSystem_coll__map" id="aFileSystem_coll__map">
<area shape="rect" title="Defines the Nachos file system." alt="" coords="12,936,153,1201"/>
<area shape="rect" href="classOpenFile.html" title="Defines the data structure maintained when a file is opened." alt="" coords="17,513,149,859"/>
<area shape="poly" title=" " alt="" coords="85,859,85,919,80,919,80,859"/>
<area shape="rect" href="classFileHeader.html" title="Defines a file header in the Nachos file system." alt="" coords="5,5,160,451"/>
<area shape="poly" title=" " alt="" coords="85,451,85,497,80,497,80,451"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a12d63294322b37e934edd03ff614b95a" id="r_a12d63294322b37e934edd03ff614b95a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a12d63294322b37e934edd03ff614b95a">FileSystem</a> (<a class="el" href="classListElement.html">bool</a> <a class="el" href="classListElement.html">format</a>)</td></tr>
<tr class="separator:a12d63294322b37e934edd03ff614b95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e366f036e9d9cd884fa689963aacc49" id="r_a9e366f036e9d9cd884fa689963aacc49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a9e366f036e9d9cd884fa689963aacc49">~FileSystem</a> ()</td></tr>
<tr class="separator:a9e366f036e9d9cd884fa689963aacc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac789d58815881d7f193d86085b0f54aa" id="r_ac789d58815881d7f193d86085b0f54aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#ac789d58815881d7f193d86085b0f54aa">Create</a> (<a class="el" href="classListElement.html">char</a> *name, <a class="el" href="classListElement.html">int</a> <a class="el" href="classListElement.html">initialSize</a>)</td></tr>
<tr class="separator:ac789d58815881d7f193d86085b0f54aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606ea080a2a0fe5e3be3c3f5b8f4e7bc" id="r_a606ea080a2a0fe5e3be3c3f5b8f4e7bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a606ea080a2a0fe5e3be3c3f5b8f4e7bc">Open</a> (<a class="el" href="classListElement.html">char</a> *name)</td></tr>
<tr class="separator:a606ea080a2a0fe5e3be3c3f5b8f4e7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e69a068c68c6c84f02c80fd4c5389e" id="r_a52e69a068c68c6c84f02c80fd4c5389e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a52e69a068c68c6c84f02c80fd4c5389e">Remove</a> (<a class="el" href="classListElement.html">char</a> *name)</td></tr>
<tr class="separator:a52e69a068c68c6c84f02c80fd4c5389e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf76918c6f0d24bc72aaa84625adfddf" id="r_aaf76918c6f0d24bc72aaa84625adfddf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#aaf76918c6f0d24bc72aaa84625adfddf">List</a> ()</td></tr>
<tr class="separator:aaf76918c6f0d24bc72aaa84625adfddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebaf06661b1879a62afefa5abe99f21e" id="r_aebaf06661b1879a62afefa5abe99f21e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#aebaf06661b1879a62afefa5abe99f21e">Print</a> ()</td></tr>
<tr class="separator:aebaf06661b1879a62afefa5abe99f21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798400dbcaaef6d6dde5e63fcc500a60" id="r_a798400dbcaaef6d6dde5e63fcc500a60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a798400dbcaaef6d6dde5e63fcc500a60">GetFreeMapFile</a> ()</td></tr>
<tr class="separator:a798400dbcaaef6d6dde5e63fcc500a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118ce47f3ef95d3e930572c20836d327" id="r_a118ce47f3ef95d3e930572c20836d327"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a118ce47f3ef95d3e930572c20836d327">GetDirFile</a> ()</td></tr>
<tr class="separator:a118ce47f3ef95d3e930572c20836d327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4f11a12aed939e691edd6d591a8fcf" id="r_a9b4f11a12aed939e691edd6d591a8fcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a9b4f11a12aed939e691edd6d591a8fcf">Mkdir</a> (<a class="el" href="classListElement.html">char</a> *)</td></tr>
<tr class="separator:a9b4f11a12aed939e691edd6d591a8fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cbf7822080d1c9bb606b5d74dd4ee5" id="r_ae5cbf7822080d1c9bb606b5d74dd4ee5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classListElement.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#ae5cbf7822080d1c9bb606b5d74dd4ee5">Rmdir</a> (<a class="el" href="classListElement.html">char</a> *)</td></tr>
<tr class="separator:ae5cbf7822080d1c9bb606b5d74dd4ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac011f3b710a3b03d29fb9e554008699d" id="r_ac011f3b710a3b03d29fb9e554008699d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#ac011f3b710a3b03d29fb9e554008699d">freeMapFile</a></td></tr>
<tr class="separator:ac011f3b710a3b03d29fb9e554008699d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d062da5905bf0eca01033ad70d0e2d5" id="r_a8d062da5905bf0eca01033ad70d0e2d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOpenFile.html">OpenFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html#a8d062da5905bf0eca01033ad70d0e2d5">directoryFile</a></td></tr>
<tr class="separator:a8d062da5905bf0eca01033ad70d0e2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines the Nachos file system. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a12d63294322b37e934edd03ff614b95a" name="a12d63294322b37e934edd03ff614b95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12d63294322b37e934edd03ff614b95a">&#9670;&#160;</a></span>FileSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileSystem::FileSystem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">bool</a>&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the file system. Must be called <em>after</em> "synchDisk" has been initialized.</p>
<p>Initialize the file system. If format = true, the disk has nothing on it, and we need to initialize the disk to contain an empty directory, and a bitmap of free sectors (with almost but not all of the sectors marked as free). <br  />
</p>
<p>If format = false, we just have to open the files representing the bitmap and the directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>should we initialize the disk? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e366f036e9d9cd884fa689963aacc49" name="a9e366f036e9d9cd884fa689963aacc49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e366f036e9d9cd884fa689963aacc49">&#9670;&#160;</a></span>~FileSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileSystem::~FileSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor of file system. Called when Nachos is shut-down. </p>
<p>Destructor of the file system, called when Nachos is stopped </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac789d58815881d7f193d86085b0f54aa" name="ac789d58815881d7f193d86085b0f54aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac789d58815881d7f193d86085b0f54aa">&#9670;&#160;</a></span>Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileSystem::Create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">char</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classListElement.html">int</a>&#160;</td>
          <td class="paramname"><em>initialSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a file (UNIX creat) </p>
<p>Create a file in the Nachos file system (similar to UNIX create). Since we can't increase the size of files dynamically, we have to give Create the initial size of the file.</p>
<p>The steps to create a file are: Make sure the file doesn't already exist Allocate a sector for the file header Allocate space on disk for the data blocks for the file Add the name to the directory Store the new file header on disk Flush the changes to the bitmap and the directory back to disk</p>
<p>Create fails if: file is already in directory no free space for file header no free entry for file in directory no free space for data blocks for the file</p>
<p>Note that this implementation assumes there is no concurrent access to the file system!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>is the name of file to be created (NOT MODIFIED) </td></tr>
    <tr><td class="paramname">initialSize</td><td>is the size of file to be created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NO_ERROR if everything goes ok, otherwise, return an error code as define in <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">msgerror.h</a> </dd></dl>

</div>
</div>
<a id="a118ce47f3ef95d3e930572c20836d327" name="a118ce47f3ef95d3e930572c20836d327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118ce47f3ef95d3e930572c20836d327">&#9670;&#160;</a></span>GetDirFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenFile.html">OpenFile</a> * FileSystem::GetDirFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the root directory. </p>
<p>return the base directory file (used by the open file table). </p>

</div>
</div>
<a id="a798400dbcaaef6d6dde5e63fcc500a60" name="a798400dbcaaef6d6dde5e63fcc500a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798400dbcaaef6d6dde5e63fcc500a60">&#9670;&#160;</a></span>GetFreeMapFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenFile.html">OpenFile</a> * FileSystem::GetFreeMapFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the free map table. </p>
<p>return the free map file (used by the open file table). </p>

</div>
</div>
<a id="aaf76918c6f0d24bc72aaa84625adfddf" name="aaf76918c6f0d24bc72aaa84625adfddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf76918c6f0d24bc72aaa84625adfddf">&#9670;&#160;</a></span>List()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileSystem::List </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classList.html" title="Definition of a generic single-linked &quot;list&quot;.">List</a> all the files in the file system. </p>
<p><a class="el" href="classList.html" title="Definition of a generic single-linked &quot;list&quot;.">List</a> all the files in the file system directory. </p>

</div>
</div>
<a id="a9b4f11a12aed939e691edd6d591a8fcf" name="a9b4f11a12aed939e691edd6d591a8fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4f11a12aed939e691edd6d591a8fcf">&#9670;&#160;</a></span>Mkdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileSystem::Mkdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">char</a> *&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new directory. </p>
<p>Create a directory in the Nachos file system (similar to UNIX create). A directory is a file containing a table of directory entries.</p>
<p>The steps to create a dirctory are: Make sure the name is valid and does not exist Create a file containing the directory entries <br  />
 mkdir fails if: dir already exists no free space for file header no free entry for dir in directory no free space for data blocks for the file</p>
<p>Note that this implementation assumes there is no concurrent access to the file system!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>is the name of directory to be created (NOT MODIFIED) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NO_ERROR if everything goes ok, an error code otherwise (see <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">msgerror.h</a>) </dd></dl>

</div>
</div>
<a id="a606ea080a2a0fe5e3be3c3f5b8f4e7bc" name="a606ea080a2a0fe5e3be3c3f5b8f4e7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606ea080a2a0fe5e3be3c3f5b8f4e7bc">&#9670;&#160;</a></span>Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenFile.html">OpenFile</a> * FileSystem::Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">char</a> *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a file (UNIX open) </p>
<p>Open a file for reading and writing. <br  />
 To open a file: Find the location of the file's header, using the directory Bring the header into memory</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the text name of the file to be opened (NOT MODIFIED) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aebaf06661b1879a62afefa5abe99f21e" name="aebaf06661b1879a62afefa5abe99f21e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebaf06661b1879a62afefa5abe99f21e">&#9670;&#160;</a></span>Print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">void</a> FileSystem::Print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classList.html" title="Definition of a generic single-linked &quot;list&quot;.">List</a> all the files and their contents. </p>
<p>Print everything about the file system: the contents of the bitmap the contents of the directory for each file in the directory, the contents of the file header the data in the file </p>

</div>
</div>
<a id="a52e69a068c68c6c84f02c80fd4c5389e" name="a52e69a068c68c6c84f02c80fd4c5389e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e69a068c68c6c84f02c80fd4c5389e">&#9670;&#160;</a></span>Remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileSystem::Remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">char</a> *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a file (UNIX unlink) </p>
<p>Delete a file from the file system. This requires: Remove it from the directory Delete the space for its header Delete the space for its data blocks Write changes to directory, bitmap back to disk</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the text name of the file to be removed (NOT MODIFIED) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NO_ERROR if the file was deleted, else an error code as defined in <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">msgerror.h</a> </dd></dl>

</div>
</div>
<a id="ae5cbf7822080d1c9bb606b5d74dd4ee5" name="ae5cbf7822080d1c9bb606b5d74dd4ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cbf7822080d1c9bb606b5d74dd4ee5">&#9670;&#160;</a></span>Rmdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classListElement.html">int</a> FileSystem::Rmdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classListElement.html">char</a> *&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a directory. </p>
<p>Delete a directory from the file system. This requires: check the name is valid check the directory is empty <br  />
 Remove it from its directory Delete the space for its header Delete the space for its data blocks Write changes to directory, bitmap back to disk</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">namedir</td><td>the text name of the directory to be removed (NOT MODIFIED) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NO_ERROR if the directory was deleted, else an error code (see <a class="el" href="classListElement.html#afc3cc3f75c7b66aca68c64c61f7c034f">msgerror.h</a>) </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8d062da5905bf0eca01033ad70d0e2d5" name="a8d062da5905bf0eca01033ad70d0e2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d062da5905bf0eca01033ad70d0e2d5">&#9670;&#160;</a></span>directoryFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenFile.html">OpenFile</a>* FileSystem::directoryFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>"Root" directory &ndash; list of file names, represented as a file </p>

</div>
</div>
<a id="ac011f3b710a3b03d29fb9e554008699d" name="ac011f3b710a3b03d29fb9e554008699d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac011f3b710a3b03d29fb9e554008699d">&#9670;&#160;</a></span>freeMapFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOpenFile.html">OpenFile</a>* FileSystem::freeMapFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bit map of free disk blocks, represented as a file </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>filesys/<a class="el" href="filesys_8h_source.html">filesys.h</a></li>
<li>filesys/<a class="el" href="filesys_8cc.html">filesys.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
