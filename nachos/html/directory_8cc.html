<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nachos: filesys/directory.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Nachos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_386a01e8c60160d2cb79aec927decd2f.html">filesys</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">directory.cc File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="system_8h_source.html">kernel/system.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="msgerror_8h_source.html">kernel/msgerror.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utility_8h_source.html">utility/utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">utility/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="filehdr_8h_source.html">filesys/filehdr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="directory_8h_source.html">filesys/directory.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for directory.cc:</div>
<div class="dyncontent">
<div class="center"><img src="directory_8cc__incl.png" border="0" usemap="#afilesys_2directory_8cc" alt=""/></div>
<map name="afilesys_2directory_8cc" id="afilesys_2directory_8cc">
<area shape="rect" title="Routines to manage a directory of file names." alt="" coords="625,5,767,31"/>
<area shape="rect" href="system_8h.html" title="Global variables used in Nachos." alt="" coords="205,299,331,324"/>
<area shape="poly" title=" " alt="" coords="625,25,580,30,531,41,482,57,436,81,407,103,381,129,337,186,303,242,281,287,276,285,298,240,332,183,377,125,404,99,433,76,479,52,529,36,579,25,624,19"/>
<area shape="rect" href="utility_8h.html" title="Miscellaneous useful definitions, including debugging routines." alt="" coords="461,519,573,544"/>
<area shape="poly" title=" " alt="" coords="625,33,568,49,513,75,490,92,472,112,460,136,456,164,456,386,461,420,472,453,503,506,498,509,467,455,455,421,451,386,451,163,455,134,468,109,487,88,511,71,567,44,624,28"/>
<area shape="rect" href="msgerror_8h.html" title="Defines the data structure to store error messages during." alt="" coords="1060,79,1196,104"/>
<area shape="poly" title=" " alt="" coords="766,28,1047,74,1046,79,765,33"/>
<area shape="rect" href="config_8h.html" title="Data structures for setting up the Nachos hardware and." alt="" coords="563,79,677,104"/>
<area shape="poly" title=" " alt="" coords="686,33,644,71,641,67,682,29"/>
<area shape="rect" href="filehdr_8h.html" title="Data structures for managing a disk file header." alt="" coords="916,79,1036,104"/>
<area shape="poly" title=" " alt="" coords="742,28,918,73,917,78,740,33"/>
<area shape="rect" href="directory_8h.html" title="Data structures to manage a UNIX&#45;like directory of file names." alt="" coords="755,152,891,177"/>
<area shape="poly" title=" " alt="" coords="708,29,806,140,802,143,704,33"/>
<area shape="rect" title=" " alt="" coords="23,665,89,691"/>
<area shape="poly" title=" " alt="" coords="216,327,165,344,113,370,92,387,74,407,63,430,59,457,59,533,59,652,53,652,53,533,53,456,58,429,70,405,88,384,111,366,163,339,214,322"/>
<area shape="rect" title=" " alt="" coords="122,665,193,691"/>
<area shape="poly" title=" " alt="" coords="238,326,198,346,156,374,138,391,123,411,113,433,109,457,109,533,113,566,122,598,146,652,141,654,117,600,108,567,104,533,104,456,108,431,118,408,134,388,153,370,195,341,236,322"/>
<area shape="rect" title=" " alt="" coords="144,445,195,471"/>
<area shape="poly" title=" " alt="" coords="249,326,221,346,196,373,182,403,175,432,170,431,177,401,191,371,217,342,246,322"/>
<area shape="rect" href="list_8h.html" title="Data structures to manage LISP&#45;like lists." alt="" coords="320,445,416,471"/>
<area shape="poly" title=" " alt="" coords="290,322,318,342,344,370,358,401,367,431,361,432,353,403,339,374,314,346,287,326"/>
<area shape="rect" href="objaddr_8h.html" title="Object address data structure." alt="" coords="206,372,330,397"/>
<area shape="poly" title=" " alt="" coords="264,324,262,359,257,358,258,324"/>
<area shape="rect" href="copyright_8h.html" title="Nachos copyright notice." alt="" coords="757,665,896,691"/>
<area shape="poly" title=" " alt="" coords="374,470,384,500,402,540,429,581,445,600,464,615,485,626,513,635,586,650,744,669,743,674,585,655,512,640,483,630,461,620,442,604,425,585,397,543,379,502,369,472"/>
<area shape="poly" title=" " alt="" coords="393,468,482,510,479,515,391,473"/>
<area shape="poly" title=" " alt="" coords="461,538,388,544,306,555,232,571,204,582,184,594,174,606,167,621,161,652,156,651,162,619,170,603,181,590,202,577,231,566,305,550,387,539,461,533"/>
<area shape="poly" title=" " alt="" coords="543,542,791,657,789,662,541,547"/>
<area shape="rect" title=" " alt="" coords="474,592,561,617"/>
<area shape="poly" title=" " alt="" coords="520,544,520,578,515,578,515,544"/>
<area shape="rect" href="sysdep_8h.html" title="System&#45;dependent interface." alt="" coords="195,592,335,617"/>
<area shape="poly" title=" " alt="" coords="478,547,320,591,319,586,476,541"/>
<area shape="poly" title=" " alt="" coords="233,620,104,663,102,658,231,615"/>
<area shape="poly" title=" " alt="" coords="249,620,188,660,185,655,247,615"/>
<area shape="poly" title=" " alt="" coords="336,612,355,615,744,664,743,669,354,620,335,618"/>
<area shape="rect" title=" " alt="" coords="230,665,301,691"/>
<area shape="poly" title=" " alt="" coords="268,618,268,652,263,652,263,618"/>
<area shape="poly" title=" " alt="" coords="272,372,274,338,279,338,278,372"/>
<area shape="poly" title=" " alt="" coords="254,400,198,439,195,435,251,395"/>
<area shape="poly" title=" " alt="" coords="286,395,342,435,339,439,283,400"/>
<area shape="poly" title=" " alt="" coords="271,397,274,431,286,470,316,521,345,557,382,586,433,615,490,633,571,648,744,668,743,673,570,653,489,638,431,620,379,591,341,561,312,524,282,472,269,432,265,398"/>
<area shape="poly" title=" " alt="" coords="273,397,285,433,295,452,310,469,341,490,377,505,413,516,448,522,447,528,412,521,375,510,339,495,306,473,291,455,280,435,268,399"/>
<area shape="poly" title=" " alt="" coords="562,97,411,105,319,114,227,127,142,145,72,170,45,184,25,200,12,217,8,237,8,533,12,566,21,598,45,652,40,654,16,600,6,567,3,533,3,236,7,215,21,196,42,179,70,165,140,140,226,122,318,109,410,100,562,91"/>
<area shape="rect" href="translationtable_8h.html" title="Data structures for managing address translation" alt="" coords="592,445,789,471"/>
<area shape="poly" title=" " alt="" coords="616,105,589,161,578,198,573,237,573,313,576,332,582,351,604,385,632,414,661,436,658,440,629,418,600,389,577,353,570,334,568,313,568,237,573,197,584,159,611,103"/>
<area shape="rect" href="filesys_8h.html" title="Data structures to represent the Nachos file system." alt="" coords="608,152,731,177"/>
<area shape="poly" title=" " alt="" coords="630,103,656,139,651,142,626,106"/>
<area shape="poly" title=" " alt="" coords="700,470,814,652,810,655,696,472"/>
<area shape="poly" title=" " alt="" coords="664,473,559,516,557,511,662,468"/>
<area shape="poly" title=" " alt="" coords="675,177,698,250,727,305,754,345,780,387,804,445,818,502,825,559,830,652,824,652,820,560,812,503,799,446,776,389,750,348,722,307,694,252,670,179"/>
<area shape="rect" href="openfile_8h.html" title="Data structures to manipulate files." alt="" coords="707,225,839,251"/>
<area shape="poly" title=" " alt="" coords="688,175,746,215,743,219,685,180"/>
<area shape="poly" title=" " alt="" coords="708,251,346,302,345,297,707,246"/>
<area shape="poly" title=" " alt="" coords="781,250,815,330,834,386,848,445,855,493,857,531,848,618,839,653,834,652,843,617,852,531,850,494,843,446,829,388,810,332,777,252"/>
<area shape="poly" title=" " alt="" coords="754,253,709,282,650,325,589,381,562,413,538,447,527,476,521,505,516,504,522,474,534,444,557,409,585,377,646,321,706,277,752,248"/>
<area shape="poly" title=" " alt="" coords="1023,101,1072,119,1123,146,1145,164,1163,185,1174,209,1179,236,1179,533,1171,573,1151,605,1120,630,1083,649,1040,662,995,671,910,680,909,674,994,666,1039,657,1081,644,1118,625,1147,601,1166,571,1173,532,1173,237,1169,211,1158,188,1141,168,1120,151,1070,124,1021,107"/>
<area shape="rect" href="disk_8h.html" title="Data structures to emulate a physical disk." alt="" coords="1017,445,1138,471"/>
<area shape="poly" title=" " alt="" coords="998,102,1026,122,1051,150,1074,191,1079,237,1079,313,1080,432,1074,432,1073,313,1073,237,1068,193,1047,154,1022,126,995,106"/>
<area shape="rect" href="bitmap_8h.html" title="Data structures defining a bitmap." alt="" coords="915,152,1037,177"/>
<area shape="poly" title=" " alt="" coords="979,104,979,138,973,138,973,104"/>
<area shape="poly" title=" " alt="" coords="1077,471,1069,501,1054,540,1031,582,999,619,956,647,909,664,908,659,954,642,996,615,1026,579,1049,538,1064,499,1072,470"/>
<area shape="poly" title=" " alt="" coords="1017,470,587,524,587,519,1016,464"/>
<area shape="poly" title=" " alt="" coords="979,178,981,310,981,533,978,555,970,577,942,613,905,641,869,662,866,657,902,637,938,609,965,574,973,554,976,532,976,310,974,178"/>
<area shape="poly" title=" " alt="" coords="961,180,750,326,582,447,555,478,534,508,530,505,551,474,578,443,747,322,958,175"/>
<area shape="poly" title=" " alt="" coords="944,180,820,223,818,218,943,175"/>
<area shape="poly" title=" " alt="" coords="835,176,861,209,893,259,919,318,928,351,931,383,931,533,923,571,904,606,879,636,855,658,851,655,876,632,900,603,918,570,925,532,925,383,922,351,914,320,888,261,857,212,831,179"/>
<area shape="poly" title=" " alt="" coords="817,179,791,216,787,213,812,176"/>
</map>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Routines to manage a directory of file names. </p>
<p>The directory is a table of fixed length entries; each entry represents a single file, and contains the file name, and the location of the file header on disk. The fixed size of each directory entry means that we have the restriction of a fixed maximum size for file names.</p>
<p>The constructor initializes an empty directory of a certain size; we use ReadFrom/WriteBack to fetch the contents of the directory from disk, and to write back any modifications back to disk.</p>
<p>Also, this implementation has the restriction that the size of the directory cannot expand. In other words, once all the entries in the directory are used, no more files can be created. Fixing this is one of the parts to the assignment.</p>
<hr  />
<p> This file is part of the Nachos-RiscV distribution Copyright (c) 2022 University of Rennes 1.</p>
<p>This program is free software: you can redistribute it and/or modify <br  />
 it under the terms of the GNU General Public License as published by <br  />
 the Free Software Foundation, version 3.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details </p>
<h2><a class="anchor" id="autotoc_md1"></a>
(see see &lt;http://www.gnu.org/licenses/&gt;).</h2>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
